{"version":3,"sources":["actions/types.ts","types/app.ts","reducers/app.ts","types/accounts.ts","reducers/helpers.ts","reducers/accounts.ts","reducers/budget.ts","reducers/transactions.ts","reducers/payees.ts","reducers/index.ts","actions/budget.ts","actions/app.ts","middleware/validation.ts","actions/accounts.ts","middleware/core.ts","actions/transactions.ts","store.ts","views/Sidebar/ViewControl/index.tsx","views/Sidebar/AccountPicker/index.tsx","utils/ExpressionEvaluator/IExpressionParser.ts","components/Button/index.tsx","components/Modal/index.tsx","components/TriggeredModal/index.tsx","components/Input/index.tsx","utils/ExpressionEvaluator/index.ts","components/CalculatorInput/index.tsx","components/Dropdown/index.tsx","utils/helpers.ts","forms/NewAccountForm/index.tsx","views/Sidebar/index.tsx","views/Budget/BudgetHeader/MonthControl/index.tsx","components/ValueIndicator/index.tsx","views/Budget/BudgetHeader/MonthSummary/index.tsx","views/Budget/BudgetHeader/index.tsx","components/TriggeredPopover/index.tsx","views/Budget/BudgetContent/BudgetCategories/BudgetCategoryGroupRow/index.tsx","views/Budget/BudgetContent/BudgetCategories/BudgetCategoryRow/index.tsx","views/Budget/BudgetContent/BudgetCategories/index.tsx","views/Budget/BudgetContent/BudgetSidebar/index.tsx","views/Budget/BudgetContent/index.tsx","views/Budget/index.tsx","views/Accounts/AccountsHeader/index.tsx","views/Accounts/AccountsContent/AccountsTransactions/AccountTransaction/index.tsx","views/Accounts/AccountsContent/AccountsTransactions/index.tsx","views/Accounts/AccountsContent/index.tsx","views/Accounts/index.tsx","views/Main/index.tsx","views/Index/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["AppActionTypes","BudgetActionTypes","AccountActionTypes","TransactionActionTypes","PayeesActionTypes","AppView","AccountType","defaultState","view","Accounts","newMonthHelper","lastMonth","monthName","moment","add","format","categoryGroups","Object","toConsumableArray","ageOfMoney","toBeBudgeted","categories","map","cat","objectSpread","budgeted","activity","accounts","accountName","type","Current","onBudget","closed","balance","deleted","activeAccount","months","groupName","hidden","categoryName","categoryGroup","note","activeMonth","transactions","id","payeeName","date","inflow","outflow","approved","selectedTransactions","newTransaction","payees","combineReducers","app","state","arguments","length","undefined","action","CHANGE_VIEW","payload","SET_ACTIVE_ACCOUNT","accountIndex","CREATE_ACCOUNT","concat","accountType","startingBalance","ADD_TO_BALANCE","account","amount","budget","CREATE_CATEGORY","month","CREATE_CATEGORY_GROUP","APPEND_MONTH","SET_NEXT_MONTH_ACTIVE","SET_PREV_MONTH_ACTIVE","SET_CATEGORY_BUDGETED","catInd","findIndex","c","budgetChangeDifference","value","slice","i","ADD_TO_ACTIVITY","_month","console","log","ADD_TRANSACTION","Math","random","toString","EDIT_TRANSACTION","trans","TRIGGER_NEW_TRANSACTION","CANCEL_NEW_TRANSACTION","SELECT_TRANSACTION","transactionID","UNSELECT_TRANSACTION","filter","st","CLEAR_SELECTED","DELETE_TRANSACTION","includes","ADD_PAYEE","addToActivityAction","changeViewAction","errorAction","error","ERROR","validationMiddleware","store","next","getState","dispatch","toLowerCase","cg","setActiveAccountAction","addToBalanceAction","coreMiddleware","forEach","toDelete","find","t","toEdit","configureStore","middleware","composeWithDevTools","applyMiddleware","createStore","rootReducer","ViewControl","_ref","icon","label","active","props","objectWithoutProperties","CSSClasses","classNames","view-control","react_default","a","createElement","onClick","className","connect","TokenType","setActiveAccount","setAppView","key","account-picker-account","Button","button","filled","small","round","children","Modal","_useState","useState","marginTop","marginLeft","_useState2","slicedToArray","sizeAdjustment","setSizeAdjustment","useEffect","modalContainer","document","getElementsByClassName","width","clientWidth","height","clientHeight","classList","style","React","cloneElement","closeModal","onClose","TriggeredModal","trigger","setActive","Fragment","components_Modal","okAction","cancelAction","Input","placeholder","name","hoverable","hovered","setHovered","_useState3","_useState4","focused","setFocused","onChange","event","onBlur","onFocus","onMouseLeave","onMouseEnter","Token","classCallCheck","this","ExpressionParser","prec","+","-","*","/","arr","ch","test","expr","_this","tokens","buffer","emptyBuffer","push","Literal","join","split","isDigit","isDecimalPoint","isOperator","peek","RightParenth","Operator","isLeftParenth","LeftParenth","isRightParenth","token","_this2","tokenise","operators","literals","precedence","pop","reverse","postfix","parse","NaN","stack","e","Number","op1","op2","Error","CalculatorInput","components_Input","calculatedValue","evaluate","Dropdown","options","option","getAllAccounts","reduceHelper","reduce","acc","val","getAllAccountTypes","types","addAccount","startBalance","addAccountAction","setAccountName","setStartBalance","_useState5","_useState6","setAccountType","target","components_Dropdown","components_CalculatorInput","components_Button","changeView","Sidebar_ViewControl","Budget","Reports","Sidebar_AccountPicker","components_TriggeredModal","forms_NewAccountForm","activeMonthIndex","nextMonth","previousMonth","disabled","toUpperCase","ValueIndicator","large","value-indicator","positive","negative","toFixed","components_ValueIndicator","BudgetHeader","BudgetHeader_MonthControl","BudgetHeader_MonthSummary","TriggeredPopover","anchor","setAnchor","currentTarget","Popover_default","open","anchorEl","anchorOrigin","vertical","horizontal","BudgetCategoryGroupRow","showAddButton","newCategoryName","setState","addCategory","bind","components_TriggeredPopover","onAddCategoryClick","onNewNameChange","totalBudgeted","totalActivity","totalBalance","PureComponent","addCategoryAction","setCategoryBudgeted","setMonthBudgetedAction","category","setBudgeted","groups","g","groupCategories","sum","BudgetCategories_BudgetCategoryGroupRow","gc","BudgetCategories_BudgetCategoryRow","BudgetSidebar","BudgetContent","addCategoryGroup","handleChange","BudgetContent_BudgetCategories","BudgetSidebar_BudgetSidebar","addCategoryGroupAction","Budget_BudgetHeader","Budget_BudgetContent","AccountsTransaction","wrapperRef","editing","new","selected","transaction","onDateChange","defineProperty","_this$state","accounts-transaction","onDoubleClick","addEventListener","handleClickOutside","removeEventListener","unselectTransaction","selectTransaction","contains","onCancel","cancelNewTransaction","addNewTransaction","saveEditedTransaction","ref","r","react_datepicker_es","dateFormat","Date","payee","onSave","renderEditing","renderStatic","addTransactionAction","saveEditedTransactionAction","selectTransactionAction","unselectTransactionAction","AccountTransaction","triggerNewTransaction","deleteTransaction","AccountsContent_AccountsTransactions","Accounts_AccountsHeader","Accounts_AccountsContent","views_Budget","views_Accounts","Index","views_Sidebar","views_Main","App","es","src_views_Index","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"ywBAAYA,EAUAC,EAUAC,EAMAC,EAWAC,ECrCAC,oHDAAL,kOAUAC,8TAUAC,sIAMAC,4WAWAC,gDCrCAC,0FCQL,ICMKC,EDNCC,EAAe,CAC3BC,KAAMH,EAAQI,4BCKHH,wDCVL,SAASI,EAAeC,GAC9B,OAAIA,EACI,CACNC,UAAWC,IAAOF,EAAUC,UAAW,WAAWE,IAAI,EAAG,UAAUC,OAAO,WAC1EC,eAAeC,OAAAC,EAAA,EAAAD,CAAKN,EAAUK,gBAC9BG,WAAa,EACbC,aAAc,EACdC,WAAYV,EAAUU,WAAWC,IAAI,SAAAC,GACpC,OAAON,OAAAO,EAAA,EAAAP,CAAA,GACHM,EADJ,CAECE,SAAU,EACVC,SAAU,OAKN,CACNd,UAAWC,MAASE,OAAO,WAC3BC,eAAgB,GAChBG,WAAa,EACbC,aAAc,EACdC,WAAY,ICdR,IAAMd,EAAe,CAC3BoB,SAAU,CACT,CACCC,YAAa,eACbC,KAAMvB,EAAYwB,QAClBC,UAAU,EACVC,QAAQ,EACRC,QAAS,IACTC,SAAS,GAEV,CACCN,YAAa,iBACbC,KAAMvB,EAAYwB,QAClBC,UAAU,EACVC,QAAQ,EACRC,QAAS,IACTC,SAAS,IAGXC,eAAgB,GCnBJ5B,EAA4B,CACxC6B,OAAQ,CACP,CACCxB,UAAW,UACXQ,aAAc,EACdJ,eAAgB,CACf,CACCqB,UAAW,aACXC,QAAQ,GAET,CACCD,UAAW,UACXC,QAAQ,IAGVjB,WAAY,CACX,CACCkB,aAAc,UACdC,cAAe,UACff,SAAU,EACVC,SAAU,EACVO,QAAS,EACTK,QAAQ,GAET,CACCC,aAAc,QACdC,cAAe,UACff,SAAU,EACVC,SAAU,EACVO,QAAS,EACTK,QAAQ,IAGVnB,WAAY,EACZsB,KAAM,cAEP,CACC7B,UAAW,UACXQ,aAAc,EACdJ,eAAgB,CACf,CACCqB,UAAW,aACXC,QAAQ,GAET,CACCD,UAAW,UACXC,QAAQ,IAGVjB,WAAY,CACX,CACCkB,aAAc,UACdC,cAAe,UACff,SAAU,EACVC,SAAU,IACVO,QAAS,IACTK,QAAQ,GAET,CACCC,aAAc,QACdC,cAAe,UACff,SAAU,EACVC,SAAU,EACVO,QAAS,EACTK,QAAQ,IAGVnB,WAAY,EACZsB,KAAM,eAGRC,YAAa,GCxERnC,EAAkC,CACvCoC,aAAc,CACb,CACCC,GAAI,QACJhB,YAAa,eACbiB,UAAW,OACXN,aAAc,UACdO,KAAM,aACNC,OAAQ,GACRC,QAAS,EACTC,UAAU,EACVf,SAAS,GAEV,CACCU,GAAI,QACJhB,YAAa,eACbiB,UAAW,OACXN,aAAc,UACdO,KAAM,aACNC,OAAQ,IACRC,QAAS,EACTC,UAAU,EACVf,SAAS,GAEV,CACCU,GAAI,QACJhB,YAAa,iBACbiB,UAAW,MACXN,aAAc,UACdO,KAAM,aACNC,OAAQ,IACRC,QAAS,EACTC,UAAU,EACVf,SAAS,IAGXgB,qBAAsB,GACtBC,gBAAgB,GCvCX5C,EAA4B,CACjC6C,OAAQ,CACP,CACCP,UAAW,MACXX,SAAS,GAEV,CACCW,UAAW,OACXX,SAAS,GAEV,CACCW,UAAW,mBACXX,SAAS,GAEV,CACCW,UAAW,iBACXX,SAAS,KCRGmB,4BAA2B,CACtCC,IPLW,WAAuD,IAAtDC,EAAsDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCjD,EAAcoD,EAAsBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrE,OAAQC,EAAO9B,MACd,KAAK7B,EAAe4D,YACnB,OAAO3C,OAAAO,EAAA,EAAAP,CAAA,GAAIsC,EAAX,CAAkB/C,KAAMmD,EAAOE,UAE9B,OAAON,GOCV5B,SJec,WAAkE,IDFhFC,EACAC,EACAI,ECAwBsB,EAAwDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjCjD,EAAcoD,EAAmBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxEG,EAAYF,EAAZE,QACR,OAAQF,EAAO9B,MACd,KAAK3B,EAAmB4D,mBACvB,OAAO7C,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECpB,cAAe0B,EAAQE,eAEzB,KAAK7D,EAAmB8D,eACvB,OAAO/C,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAEC5B,SAAQ,GAAAsC,OAAAhD,OAAAC,EAAA,EAAAD,CACJsC,EAAM5B,UADF,EDbXC,ECeqBiC,EAAQjC,YDd7BC,ECc0CgC,EAAQK,YDblDjC,ECa+D4B,EAAQM,gBDZhE,CACNvC,cACAC,OACAE,UAAU,EACVC,QAAQ,EACRC,UACAC,SAAS,QCST,KAAKhC,EAAmBkE,eACvB,OAAOnD,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAEC5B,SAASV,OAAAC,EAAA,EAAAD,CACLsC,EAAM5B,SAASL,IAAI,SAAA+C,GACrB,OAAIR,EAAQjC,cAAgByC,EAAQzC,YAC5BX,OAAAO,EAAA,EAAAP,CAAA,GACHoD,EADJ,CAECpC,QAASoC,EAAQpC,QAAU4B,EAAQS,SAG9BrD,OAAAO,EAAA,EAAAP,CAAA,GAAKoD,QAMjB,OAAOd,GI/CPgB,OHkEc,WAA0D,IAAzDhB,EAAyDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCjD,EAAcoD,EAAsBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChEG,EAAYF,EAAZE,QACR,OAAQF,EAAO9B,MACd,KAAK5B,EAAkBuE,gBACtB,OAAOvD,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CACWnB,OAAQmB,EAAMnB,OAAOd,IAAI,SAAAmD,GAClC,OAAOxD,OAAAO,EAAA,EAAAP,CAAA,GACHwD,EADJ,CACWpD,WAAU,GAAA4C,OAAAhD,OAAAC,EAAA,EAAAD,CAAMwD,EAAMpD,YAAZ,CAAwB,CAC3CkB,aAAcsB,EAAQtB,aACtBC,cAAeqB,EAAQxB,UACvBZ,SAAU,EACVC,SAAU,EACVO,QAAS,EACTK,QAAQ,WAKb,KAAKrC,EAAkByE,sBACtB,OAAOzD,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CACWnB,OAAQmB,EAAMnB,OAAOd,IAAI,SAAAmD,GAClC,OAAOxD,OAAAO,EAAA,EAAAP,CAAA,GACHwD,EADJ,CACWzD,eAAc,GAAAiD,OAAAhD,OAAAC,EAAA,EAAAD,CAAMwD,EAAMzD,gBAAZ,CAA4B,CACnDqB,UAAWwB,EAAQxB,UACnBC,QAAQ,WAKb,KAAKrC,EAAkB0E,aACtB,IAAMhE,EAAY4C,EAAMnB,OAAOmB,EAAMnB,OAAOqB,OAAS,GACrD,OAAOxC,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CACWnB,OAAM,GAAA6B,OAAAhD,OAAAC,EAAA,EAAAD,CACZsC,EAAMnB,QADM,CACE1B,EAAeC,OAEnC,KAAKV,EAAkB2E,sBACtB,OAAO3D,OAAAO,EAAA,EAAAP,CAAA,GAAKsC,EAAZ,CAAmBb,YAAaa,EAAMb,YAAc,IACrD,KAAKzC,EAAkB4E,sBACtB,OAAO5D,OAAAO,EAAA,EAAAP,CAAA,GAAKsC,EAAZ,CAAmBb,YAAaa,EAAMb,YAAc,IACrD,KAAKzC,EAAkB6E,sBACtB,IAAMC,EAASxB,EAAMnB,OAAOmB,EAAMb,aAAarB,WAAW2D,UAAU,SAAAC,GAAC,OAAIA,EAAE1C,eAAiBsB,EAAQtB,eAC9F2C,EAAyBrB,EAAQsB,MAAQ5B,EAAMnB,OAAOmB,EAAMb,aAAarB,WAAW0D,GAAQtD,SAClG,OAAOR,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECnB,OAAM,GAAA6B,OAAAhD,OAAAC,EAAA,EAAAD,CACFsC,EAAMnB,OAAOgD,MAAM,EAAG7B,EAAMb,cAD1BzB,OAAAC,EAAA,EAAAD,CAEFsC,EAAMnB,OAAOgD,MAAM7B,EAAMb,aAAapB,IAAI,SAACmD,EAAOY,GACpD,OAAOpE,OAAAO,EAAA,EAAAP,CAAA,GACHwD,EADJ,CAECrD,aAAoB,IAANiE,EAAUZ,EAAMrD,aAAe8D,EAAyBT,EAAMrD,aAC5EC,WAAU,GAAA4C,OAAAhD,OAAAC,EAAA,EAAAD,CACNwD,EAAMpD,WAAW+D,MAAM,EAAGL,IADpB,CAAA9D,OAAAO,EAAA,EAAAP,CAAA,GAGLwD,EAAMpD,WAAW0D,GAHZ,CAIRtD,SAAgB,IAAN4D,EAAUxB,EAAQsB,MAAQV,EAAMpD,WAAW0D,GAAQtD,SAC7DQ,QAASwC,EAAMpD,WAAW0D,GAAQ9C,SAAWiD,KALrCjE,OAAAC,EAAA,EAAAD,CAONwD,EAAMpD,WAAW+D,MAAML,EAAS,aAMzC,KAAK9E,EAAkBqF,gBACtB,IAAMC,EAAS1E,IAAOgD,EAAQf,KAAM,cAAc/B,OAAO,WAGzD,OAFAyE,QAAQC,IAAI5B,GAEL5C,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECnB,OAAOnB,OAAAC,EAAA,EAAAD,CAAKsC,EAAMnB,OAAOd,IAAI,SAAAmD,GAC5B,OAAIA,EAAM7D,YAAc2E,EAChBtE,OAAAO,EAAA,EAAAP,CAAA,GAAKwD,GAGNxD,OAAAO,EAAA,EAAAP,CAAA,GACHwD,EADJ,CAECrD,aAAuC,mBAAzByC,EAAQtB,aAAoCkC,EAAMrD,aAAeyC,EAAQsB,MAAQV,EAAMrD,aACrGC,WAAWJ,OAAAC,EAAA,EAAAD,CAAKwD,EAAMpD,WAAWC,IAAI,SAAAC,GACpC,OAAIA,EAAIgB,eAAiBsB,EAAQtB,aACzBtB,OAAAO,EAAA,EAAAP,CAAA,GAAKM,IAEbiE,QAAQC,IAAI,QAELxE,OAAAO,EAAA,EAAAP,CAAA,GACHM,EADJ,CAECG,SAAUH,EAAIG,SAAWmC,EAAQsB,MACjClD,QAASV,EAAIU,QAAU4B,EAAQsB,mBAOtC,OAAOlE,OAAAO,EAAA,EAAAP,CAAA,GAAKsC,IG9JZZ,aF8Bc,WAAgE,IAA/DY,EAA+DC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCjD,EAAcoD,EAAsBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtEG,EAAYF,EAAZE,QACR,OAAQF,EAAO9B,MACd,KAAK1B,EAAuBuF,gBAC3B,OAAOzE,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECZ,aAAY,GAAAsB,OAAAhD,OAAAC,EAAA,EAAAD,CACRsC,EAAMZ,cADE,CAEX,CACCC,GAAI+C,KAAKC,SAASC,WAClBjE,YAAaiC,EAAQjC,YACrBiB,UAAWgB,EAAQhB,UACnBN,aAAcsB,EAAQtB,aACtBO,KAAMe,EAAQf,KACdC,OAAQc,EAAQd,OAChBC,QAASa,EAAQb,QACjBC,UAAU,EACVf,SAAS,KAGXiB,gBAAgB,IAElB,KAAKhD,EAAuB2F,iBAC3B,OAAO7E,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECZ,aAAa1B,OAAAC,EAAA,EAAAD,CACTsC,EAAMZ,aAAarB,IAAI,SAAAyE,GACzB,OAAIA,EAAMnD,KAAOiB,EAAQjB,GACjB3B,OAAAO,EAAA,EAAAP,CAAA,GAAK8E,GAEN9E,OAAAO,EAAA,EAAAP,CAAA,GACH8E,EADJ,CAECnE,YAAaiC,EAAQjC,YACrBiB,UAAWgB,EAAQhB,UACnBN,aAAcsB,EAAQtB,aACtBO,KAAMe,EAAQf,KACdC,OAAQc,EAAQd,OAChBC,QAASa,EAAQb,eAKtB,KAAK7C,EAAuB6F,wBAC3B,OAAO/E,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECJ,gBAAgB,IAGlB,KAAKhD,EAAuB8F,uBAC3B,OAAOhF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECJ,gBAAgB,IAElB,KAAKhD,EAAuB+F,mBAC3B,OAAOjF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECL,qBAAoB,GAAAe,OAAAhD,OAAAC,EAAA,EAAAD,CAChBsC,EAAML,sBADU,CAEnBW,EAAQsC,kBAGX,KAAKhG,EAAuBiG,qBAC3B,OAAOnF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECL,qBAAqBjC,OAAAC,EAAA,EAAAD,CACjBsC,EAAML,qBAAqBmD,OAAO,SAAAC,GAAE,OAAIA,IAAOzC,EAAQsC,mBAG7D,KAAKhG,EAAuBoG,eAC3B,OAAOtF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECL,qBAAsB,KAExB,KAAK/C,EAAuBqG,mBAC3B,OAAOvF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECZ,aAAa1B,OAAAC,EAAA,EAAAD,CAAKsC,EAAMZ,aAAarB,IAAI,SAAAyE,GACxC,OAAIxC,EAAML,qBAAqBuD,SAASV,EAAMnD,IACtC3B,OAAAO,EAAA,EAAAP,CAAA,GACH8E,EADJ,CAEC7D,SAAS,IAGJjB,OAAAO,EAAA,EAAAP,CAAA,GAAK8E,MAEb7C,qBAAsB,KAIzB,OAAOK,GEtHPH,ODQc,WAA0D,IAAzDG,EAAyDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCjD,EAAcoD,EAAsBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChEG,EAAYF,EAAZE,QACR,OAAQF,EAAO9B,MACd,KAAKzB,EAAkBsG,UACtB,OAAOzF,OAAAO,EAAA,EAAAP,CAAA,GACHsC,EADJ,CAECH,OAAM,GAAAa,OAAAhD,OAAAC,EAAA,EAAAD,CACFsC,EAAMH,QADJ,CAEL,CAAEP,UAAWgB,EAAQhB,UAAWX,SAAS,OAK7C,OAAOjB,OAAAO,EAAA,EAAAP,CAAA,GAAKsC,MEON,SAASoD,EAAoBpE,EAAsBO,EAAcqC,GACvE,MAAO,CACNtD,KAAM5B,EAAkBqF,gBACxBzB,QAAS,CACRtB,eACAO,OACAqC,UCpDI,SAASyB,EAAiBpG,GAChC,MAAO,CACNqB,KAAM7B,EAAe4D,YACrBC,QAASrD,GAIJ,SAASqG,EAAYC,GAC3B,MAAO,CACNjF,KAAM7B,EAAe+G,MACrBlD,QAASiD,GCPX,IA4BeE,EA5B0B,SAACC,GAAD,OAAW,SAACC,GAAD,OAAU,SAACvD,GAC9D,IAAMJ,EAAoB0D,EAAME,WAChC,OAAQxD,EAAO9B,MACd,KAAK5B,EAAkB2E,sBAGtB,OAFIrB,EAAMgB,OAAO7B,YAAc,EAAIa,EAAMgB,OAAOnC,OAAOqB,OAAS,GAC/DwD,EAAMG,SFuBF,CACNvF,KAAM5B,EAAkB0E,eEvBhBuC,EAAKvD,GAEb,KAAK1D,EAAkBuE,gBACtB,OAAOjB,EAAMgB,OAAOnC,OAAO,GAAGf,WAAW2D,UAAU,SAAAzD,GAAG,OACrDA,EAAIgB,aAAa8E,gBAAkB1D,EAAOE,QAAQtB,aAAa8E,iBAAkB,EAC9EH,EAAKL,KACLK,EAAKvD,GACV,KAAK1D,EAAkByE,sBACtB,OAAOnB,EAAMgB,OAAOnC,OAAO,GAAGpB,eAAegE,UAAU,SAAAsC,GAAE,OACxDA,EAAGjF,UAAUgF,gBAAkB1D,EAAOE,QAAQxB,UAAUgF,iBAAkB,EACvEH,EAAKL,KACLK,EAAKvD,GAGV,QACC,OAAOuD,EAAKvD,OCVR,SAAS4D,EAAuBxD,GACtC,MAAO,CACNlC,KAAM3B,EAAmB4D,mBACzBD,QAAS,CACRE,iBAKI,SAASyD,EAAmB5F,EAAqB0C,GACvD,MAAO,CACNzC,KAAM3B,EAAmBkE,eACzBP,QAAS,CACRjC,cACA0C,WCvBH,IAgDemD,EAhDoB,SAACR,GAAD,OAAW,SAACC,GAAD,OAAU,SAACvD,GAAW,IAC3DE,EAAYF,EAAZE,QACFN,EAAoB0D,EAAME,WAChC,OAAQxD,EAAO9B,MAEd,KAAK1B,EAAuBuF,gBAG3B,OAFAuB,EAAMG,SAASI,EAAmB3D,EAAQjC,YAAaiC,EAAQd,OAASc,EAAQb,UAChFiE,EAAMG,SAAST,EAAoB9C,EAAQtB,aAAcsB,EAAQf,KAAMe,EAAQd,OAASc,EAAQb,UACzFkE,EAAKvD,GAEb,KAAKxD,EAAuBqG,mBAQ3B,OAPAjD,EAAMZ,aAAaO,qBAAqBwE,QAAQ,SAAAvB,GAC/C,IAAMwB,EAAWpE,EAAMZ,aAAaA,aAAaiF,KAAK,SAAAC,GAAC,OAAIA,EAAEjF,KAAOuD,IAChEwB,IACHV,EAAMG,SAASI,EAAmBG,EAAS/F,cAAe+F,EAAS5E,OAAS4E,EAAS3E,WACrFiE,EAAMG,SAAST,EAAoBgB,EAASpF,aAAcoF,EAAS7E,OAAQ6E,EAAS5E,OAAS4E,EAAS3E,cAGjGkE,EAAKvD,GAEb,KAAKzD,EAAmB4D,mBAEvB,OADAmD,EAAMG,SCwBD,CACNvF,KAAM1B,EAAuBoG,iBDxBrBW,EAAKvD,GAEb,KAAKxD,EAAuB2F,iBAC3B,IAAMgC,EAAoCvE,EAAMZ,aAAaA,aAAaiF,KAAK,SAAAC,GAAC,OAAIA,EAAEjF,KAAOiB,EAAQjB,KAerG,OAbIkF,IACCA,EAAOhF,OAASe,EAAQf,MAC3BmE,EAAMG,SAAST,EAAoBmB,EAAOvF,aAAcuF,EAAOhF,OAAQgF,EAAO/E,OAAS+E,EAAO9E,WAC9FiE,EAAMG,SAAST,EAAoB9C,EAAQtB,aAAcsB,EAAQf,KAAOgF,EAAO/E,OAAS+E,EAAO9E,YAK/FiE,EAAMG,SAASI,EAAmB3D,EAAQjC,YAAciC,EAAQd,OAAS+E,EAAO/E,QAAWc,EAAQb,QAAU8E,EAAO9E,WACpHiE,EAAMG,SAAST,EAAoB9C,EAAQtB,aAAcsB,EAAQf,KAAOe,EAAQd,OAAS+E,EAAO/E,QAAWc,EAAQb,QAAU8E,EAAO9E,aAI/HkE,EAAKvD,GAKd,OAAOuD,EAAKvD,ME7CN,SAASoE,IACf,IAAMC,EAAaC,8BAAoBC,0BAAgBlB,EAAsBS,IAC1E,OAAOU,sBAAYC,EAAaJ,sCCoBrBK,UAfgC,SAAAC,GAAqC,IAAnCC,EAAmCD,EAAnCC,KAAMC,EAA6BF,EAA7BE,MAAOC,EAAsBH,EAAtBG,OAAWC,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,2BAC7EM,EAAaC,IAAW,CAC7BC,gBAAgB,EAChBL,OAAUA,IAEX,OACCM,EAAAC,EAAAC,cAAA,OAAKC,QAASR,EAAMQ,QAASC,UAAWP,GACvCG,EAAAC,EAAAC,cAAA,WACCF,EAAAC,EAAAC,cAAA,QAAME,UAAU,QAAQZ,GACxBQ,EAAAC,EAAAC,cAAA,QAAME,UAAU,SAASX,qBCmCdY,IChDHC,EDgDGD,cAff,SAAyB7F,GACxB,MAAO,CACN5B,SAAU4B,EAAM5B,SAASA,SACzBQ,cAAeoB,EAAM5B,SAASQ,cAC9B3B,KAAM+C,EAAMD,IAAI9C,OAIlB,SAA4B4G,GAC3B,MAAO,CACNkC,iBAAkB,SAACvF,GAAD,OAA0BqD,EAASG,EAAuBxD,KAC5EwF,WAAY,SAAC/I,GAAD,OAAmB4G,EAASR,EAAiBpG,OAI5C4I,CA9CkC,SAAAd,GAA+C,IAA7C3G,EAA6C2G,EAA7C3G,SAAUQ,EAAmCmG,EAAnCnG,cAAe3B,EAAoB8H,EAApB9H,KAASkI,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,qCAM/F,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBAAf,UAGAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2BACbxH,EAAS0E,OAAO,SAAAhC,GAAO,OAAIA,EAAQtC,WAAUT,IAAI,SAAC+C,EAASgB,GAAV,OAChD0D,EAAAC,EAAAC,cAAA,OACCC,QAAS,kBAbKnF,EAaYsB,EAZ/BqD,EAAMY,iBAAiBvF,QACvB2E,EAAMa,WAAWlJ,EAAQI,UAFP,IAACsD,GAcdyF,IAAKnF,EAAQzC,YACbuH,UAAWN,IAAW,CACrBY,0BAA0B,EAC1BhB,OAAUtG,IAAkBkD,GAAK7E,IAASH,EAAQI,YAElDsI,EAAAC,EAAAC,cAAA,YAAO5E,EAAQzC,aACfmH,EAAAC,EAAAC,cAAA,YAAO5E,EAAQpC,gBENRyH,UAd2B,SAAChB,GAC1C,IAAME,EAAaC,IAAW,CAC7Bc,QAAU,EACVC,OAAUlB,EAAMkB,OAChBC,MAASnB,EAAMmB,MACfC,MAASpB,EAAMoB,QAEhB,OACCf,EAAAC,EAAAC,cAAA,UAAQE,UAAWP,EAAYM,QAASR,EAAMQ,SAC5CR,EAAMqB,oBCyBKC,iBApC0B,SAACtB,GAAU,IAAAuB,EACPC,mBAAS,CACpDC,UAAW,MACXC,WAAY,QAHsCC,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GAC5CM,EAD4CF,EAAA,GAC5BG,EAD4BH,EAAA,GAyBnD,OAfAI,oBAAU,WACT,IAAMC,EAAiBC,SAASC,uBAAuB,mBAAmB,GACpEC,EAAQH,EAAeI,YACvBC,EAASL,EAAeM,aAO9B,OALAR,EAAkB,CACjBL,WAAaY,EAAS,EAAK,KAC3BX,YAAcS,EAAQ,EAAK,OAGrB,WACNH,EAAeO,UAAUnK,IAAI,WAK9BiI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACdJ,EAAAC,EAAAC,cAAA,OAAKiC,MAAOX,EAAgBpB,UAAU,mBACpCgC,IAAMC,aAAa1C,EAAMqB,SAAiB,CAAEsB,WAAY3C,EAAM4C,eCArDC,EA5BmC,SAAAjD,GAAyB,IAAvBkD,EAAuBlD,EAAvBkD,QAAY9C,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,aAAA2B,EAC9CC,oBAAkB,GAD4BG,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GACnExB,EADmE4B,EAAA,GAC3DoB,EAD2DpB,EAAA,GAY1E,OACCtB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACC3C,EAAAC,EAAAC,cAAA,QAAMC,QAAS,kBAAMuC,GAAWhD,KAC9B+C,GAED/C,EACAM,EAAAC,EAAAC,cAAC0C,EAAD,CACCC,SAXS,WACZH,GAAU,GACN/C,EAAMkD,UAAUlD,EAAMkD,YAUvBN,QAjBY,WACfG,GAAU,GACN/C,EAAMmD,cAAcnD,EAAMmD,iBAgB1BnD,EAAMqB,UAEN,OCuBS+B,iBA3C0B,SAAAxD,GAA4D,IAA1DyD,EAA0DzD,EAA1DyD,YAAa5G,EAA6CmD,EAA7CnD,MAAO6G,EAAsC1D,EAAtC0D,KAAMC,EAAgC3D,EAAhC2D,UAAWzD,EAAqBF,EAArBE,MAAUE,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,oDAAA2B,EACtEC,oBAAkB,GADoDG,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GAC7FiC,EAD6F7B,EAAA,GACpF8B,EADoF9B,EAAA,GAAA+B,EAEtElC,oBAAkB,GAFoDmC,EAAApL,OAAAqJ,EAAA,EAAArJ,CAAAmL,EAAA,GAE7FE,EAF6FD,EAAA,GAEpFE,EAFoFF,EAAA,GAapG,OACCtD,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACZ8C,GAAaK,GAAWJ,EACzBnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACElD,EACAO,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eAAeX,GAAe,KAE9CO,EAAAC,EAAAC,cAAA,SACCE,UAAU,QACV4C,YAAaA,EACbC,KAAMA,EACN7G,MAAOA,EACPqH,SArBgB,SAACC,GACrB/D,EAAM8D,SAASC,IAqBXC,OAlBU,WACdH,GAAW,GACP7D,EAAMgE,QAAQhE,EAAMgE,UAiBpBC,QAAS,kBAAMJ,GAAW,IAC1BK,aAAc,kBAAMT,GAAW,OAGjCpD,EAAAC,EAAAC,cAAA,OACCE,UAAU,YACV0D,aAAc,kBAAMV,GAAW,KAE9BhH,uBJxCMkE,qJKTNyD,EAGL,SAAAA,EAAYjL,EAAiBsD,GAAgBlE,OAAA8L,EAAA,EAAA9L,CAAA+L,KAAAF,GAAAE,KAF7CnL,UAE4C,EAAAmL,KAD5C7H,WAC4C,EAC3C6H,KAAKnL,KAAOA,EACZmL,KAAK7H,MAAQA,GAIM8H,mDACZC,KAAoC,CAC3CC,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,IAAK,0DAGazF,GAClB,OAAOmF,KAAKE,KAAKrF,gCAGL0F,GACZ,OAAOA,EAAIA,EAAI9J,OAAS,mCAGT+J,GACf,MAAO,KAAKC,KAAKD,sCAGCA,GAClB,MAAO,gBAAgBC,KAAKD,yCAGPA,GACrB,MAAc,MAAPA,yCAGeA,GACtB,MAAc,MAAPA,yCAGeA,GACtB,MAAc,MAAPA,mCAGQE,GAA6B,IAAAC,EAAAX,KAC5C,IAAKU,EAAM,MAAO,GAElB,IAAME,EAAyB,GAC3BC,EAAyB,GAEvBC,EAAc,WACfD,EAAOpK,SACVmK,EAAOG,KAAK,IAAIjB,EAAMzD,EAAU2E,QAASH,EAAOI,KAAK,MACrDJ,EAAS,KAmCX,OA9BAH,EAAKQ,MAAM,IAAIxG,QAAQ,SAAC8F,EAAInI,GACvBsI,EAAKQ,QAAQX,GAChBK,EAAOE,KAAKP,GAEJG,EAAKS,eAAeZ,GAC5BK,EAAOE,KAAKP,GAEJG,EAAKU,WAAWb,GACpBK,EAAOpK,QAAWmK,EAAOnK,QAAUkK,EAAKW,KAAKV,GAAQ/L,OAASwH,EAAUkF,cAC3ET,IACAF,EAAOG,KAAK,IAAIjB,EAAMzD,EAAUmF,SAAUhB,KAG1CK,EAAOE,KAAKP,GAILG,EAAKc,cAAcjB,IAC3BM,IACAF,EAAOG,KAAK,IAAIjB,EAAMzD,EAAUqF,YAAalB,KAGrCG,EAAKgB,eAAenB,KAC5BM,IACAF,EAAOG,KAAK,IAAIjB,EAAMzD,EAAUkF,aAAcf,OAIhDM,IAEOF,EAAOtM,IAAI,SAAAsN,GAAK,OAAIA,EAAMzJ,sCAGrBuI,GAA8B,IAAAmB,EAAA7B,KAEpCY,EAASZ,KAAK8B,SAASpB,GAEzBqB,EAA2B,GAC3BC,EAA0B,GAiC9B,OA7BApB,EAAQlG,QAAQ,SAACG,GAChB,OAAQA,GACP,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACJ,KAAO,CAAC,IAAK,IAAK,IAAK,KAAKpB,SAASoI,EAAKP,KAAKS,OAC1CF,EAAKI,WAAWJ,EAAKP,KAAKS,IAAcF,EAAKI,WAAWpH,KAG3DmH,EAASjB,KAAKgB,EAAUG,OAG1BH,EAAUhB,KAAKlG,GACf,MACD,IAAK,IACJkH,EAAUhB,KAAKlG,GACf,MACD,IAAK,IACJ,KAAgC,MAAzBgH,EAAKP,KAAKS,IAChBC,EAASjB,KAAKgB,EAAUG,OACzBH,EAAUG,MACV,MACD,QACCF,EAASjB,KAAKlG,MAKVmH,EAAS/K,OAAO8K,EAAUI,4CAGlBzB,GACf,IAAM0B,EAAUpC,KAAKqC,MAAM3B,GAE3B,IAAK0B,IAAYA,EAAQ3L,OAAQ,OAAO6L,IAExC,IAAMC,EAAuB,GAE7B,IACCH,EAAQ1H,QAAQ,SAACkH,GAChB,IAAMY,EAAIC,OAAOb,GACjB,GAAIY,IAAMA,EACT,OAAOD,EAAMxB,KAAKyB,GAEnB,IAAME,EAAMH,EAAML,MACZS,EAAMJ,EAAML,MAElB,QAAYxL,IAARgM,QAA6BhM,IAARiM,EACxB,MAAM,IAAIC,MAAM,sBAEjB,OAAQhB,GACP,IAAK,IACJW,EAAMxB,KAAK4B,EAAMD,GACjB,MACD,IAAK,IACJH,EAAMxB,KAAK4B,EAAMD,GACjB,MACD,IAAK,IACJH,EAAMxB,KAAK4B,EAAMD,GACjB,MACD,IAAK,IACJH,EAAMxB,KAAK4B,EAAMD,GACjB,MACD,QACC,MAAM,IAAIE,MAAM,yBAGlB,MAAOA,OACR,OAAON,IAGR,OAAOC,EAAML,eC3IAW,GAlBoC,SAAAvH,GAA4D,IAA1DyD,EAA0DzD,EAA1DyD,YAAa5G,EAA6CmD,EAA7CnD,MAAO6G,EAAsC1D,EAAtC0D,KAAMC,EAAgC3D,EAAhC2D,UAAWzD,EAAqBF,EAArBE,MAAUE,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,oDAK9G,OACCS,EAAAC,EAAAC,cAAC6G,EAAD,CACC/D,YAAaA,EACbvD,MAAOA,EACPwD,KAAMA,EACN7G,MAAOA,EACPqH,SAAU9D,EAAM8D,SAChBE,OAXa,WACd,IAAMqD,GAAkB,IAAI9C,GAAmB+C,SAAS7K,GACxDuD,EAAMgE,OAAOqD,IAUZ9D,UAAWA,KCCCgE,WAlB6B,SAAA3H,GAA+C,IAA5C4H,EAA4C5H,EAA5C4H,QAAS/K,EAAmCmD,EAAnCnD,MAAO6G,EAA4B1D,EAA5B0D,KAAMxD,EAAsBF,EAAtBE,MAAUE,EAAYzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,oCAC1F,OACCS,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACElD,EACAO,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBAAmBX,GAAe,KAClDO,EAAAC,EAAAC,cAAA,UAAQ+C,KAAMA,EAAM7G,MAAOA,EAAOqH,SAAU9D,EAAM8D,SAAUrD,UAAU,aACpE+G,EAAQ5O,IAAI,SAAA6O,GACZ,OACCpH,EAAAC,EAAAC,cAAA,UAAQ9D,MAAOgL,EAAQ3G,IAAK2G,GAC1BA,SCpBD,SAASC,GAAezO,GAC9B,IAAM0O,EAAyB,CAC9BzO,YAAa,eACbC,KAAMvB,EAAYwB,QAClBC,UAAU,EACVC,QAAQ,EACRC,QAAS,EACTC,SAAS,GAEV,OAAOP,EAAS2O,OAAO,SAACC,EAAKC,GAC5B,MAAO,CACN5O,YAAa2O,EAAI3O,YACjBC,KAAM0O,EAAI1O,KACVE,SAAUwO,EAAIxO,SACdC,OAAQuO,EAAIvO,OACZC,QAASsO,EAAItO,QAAUuO,EAAIvO,QAC3BC,QAASqO,EAAIrO,UAEZmO,GAGG,SAASI,KACf,IAAMC,EAAkB,GACxB,IAAK,IAAM7I,KAAKvH,EACfoQ,EAAM3C,KAAKlG,GAEZ,OAAO6I,EC2COtH,mBAAQ,KAPvB,SAA4BhC,GAC3B,MAAO,CACNuJ,WAAY,SAAC/O,EAAqBsC,EAA0B0M,GAAhD,OACXxJ,EfjEI,SACNxF,EACAsC,EACAC,GACA,MAAO,CACNtC,KAAM3B,EAAmB8D,eACzBH,QAAS,CACRjC,cACAsC,cACAC,oBewDS0M,CAAiBjP,EAAasC,EAAa0M,OAIxCxH,CArDmC,SAACV,GAAU,IAAAuB,EACtBC,mBAAiB,IADKG,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GACrDrI,EADqDyI,EAAA,GACxCyG,EADwCzG,EAAA,GAAA+B,EAEpBlC,mBAAiB,OAFGmC,EAAApL,OAAAqJ,EAAA,EAAArJ,CAAAmL,EAAA,GAErDwE,EAFqDvE,EAAA,GAEvC0E,EAFuC1E,EAAA,GAAA2E,EAGtB9G,mBAAiB5J,EAAYwB,SAHPmP,EAAAhQ,OAAAqJ,EAAA,EAAArJ,CAAA+P,EAAA,GAGrD9M,EAHqD+M,EAAA,GAGxCC,EAHwCD,EAAA,GAY5D,OACClI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACdJ,EAAAC,EAAAC,cAAC6G,EAAD,CACA9D,KAAK,cACLxD,MAAM,eACNrD,MAAOvD,EACP4K,SAAU,SAAAgD,GAAC,OAAIsB,EAAetB,EAAE2B,OAAOhM,WAGxC4D,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACdJ,EAAAC,EAAAC,cAACmI,GAAD,CACCjM,MAAOjB,EACPsE,MAAM,eACN0H,QAASO,KACTjE,SAAU,SAAAgD,GAAC,OAAI0B,EAAe1B,EAAE2B,OAAOhM,WAGzC4D,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACdJ,EAAAC,EAAAC,cAACoI,GAAD,CACCrF,KAAK,eACLxD,MAAM,mBACNrD,MAAOyL,EACPlE,OAAQqE,EACRvE,SAAU,SAAAgD,GAAC,OAAIuB,EAAgBvB,EAAE2B,OAAOhM,WAG1C4D,EAAAC,EAAAC,cAACqI,EAAD,CAAQ1H,QAAM,EAACV,QAlCA,WAChBR,EAAMiI,WAAW/O,EAAasC,EAA4BuL,OAAOmB,IAE7DlI,EAAM2C,YAAY3C,EAAM2C,eA+B3B,kBCQYjC,mBAbf,SAAyB7F,GACxB,MAAO,CACN/C,KAAM+C,EAAMD,IAAI9C,OAIlB,SAA4B4G,GAC3B,MAAO,CACNmK,WAAY,SAAC/Q,GAAD,OAAmB4G,EAASR,EAAiBpG,KACzD8I,iBAAkB,SAACvF,GAAD,OAA0BqD,EAASG,EAAuBxD,OAI/DqF,CAhD4B,SAAAd,GAAsB,IAApB9H,EAAoB8H,EAApB9H,KAASkI,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,UAChE,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QAAf,QACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACdJ,EAAAC,EAAAC,cAACuI,EAAD,CACCtI,QAAS,kBAAMR,EAAM6I,WAAWlR,EAAQoR,SACxChJ,OAAQjI,IAASH,EAAQoR,OACzBlJ,KAAK,IACLC,MAAM,WACPO,EAAAC,EAAAC,cAACuI,EAAD,CACCtI,QAAS,kBAAMR,EAAM6I,WAAWlR,EAAQqR,UACxCjJ,OAAQjI,IAASH,EAAQqR,QACzBnJ,KAAK,IACLC,MAAM,YACPO,EAAAC,EAAAC,cAACuI,EAAD,CACCtI,QAAS,WACRR,EAAM6I,WAAWlR,EAAQI,UACzBiI,EAAMY,kBAAkB,IAEzBb,OAAQjI,IAASH,EAAQI,SACzB8H,KAAK,IACLC,MAAM,cAERO,EAAAC,EAAAC,cAAC0I,EAAD,MACA5I,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sBACdJ,EAAAC,EAAAC,cAAC2I,EAAD,CACCpG,QAASzC,EAAAC,EAAAC,cAACqI,EAAD,CAAQ1H,QAAM,EAACC,OAAK,GAApB,gBACRd,EAAAC,EAAAC,cAAC4I,GAAD,uCCRSzI,mBAdf,SAAyB7F,GACxB,MAAO,CACNb,YAAaa,EAAMgB,OAAOnC,OAAOmB,EAAMgB,OAAO7B,aAC9CoP,iBAAkBvO,EAAMgB,OAAO7B,cAIjC,SAA4B0E,GAC3B,MAAO,CACN2K,UAAW,kBAAM3K,EpBXX,CACNvF,KAAM5B,EAAkB2E,yBoBWxBoN,cAAe,kBAAM5K,EpBNf,CACNvF,KAAM5B,EAAkB4E,2BoBSXuE,CA5BiC,SAAAd,GAA+C,IACzE7D,EAD4B/B,EAA6C4F,EAA7C5F,YAAaoP,EAAgCxJ,EAAhCwJ,iBAAqBpJ,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,oCAK9F,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACdJ,EAAAC,EAAAC,cAAA,UAAQgJ,SAAUH,EAAmB,EAAG5I,QAASR,EAAMsJ,eAAvD,KACAjJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cANQ,KADJ1E,EAOsB/B,EAAY9B,WANzC6C,OAAegB,GAASA,EAAMW,MAAM,EAAG,GAAK,IAAMX,EAAMW,MAAM,IAAI8M,eAO9EnJ,EAAAC,EAAAC,cAAA,UAAQC,QAASR,EAAMqJ,WAAvB,QCUYI,kBAnB0B,SAAA7J,GAAqC,IAAnCnD,EAAmCmD,EAAnCnD,MAAOqD,EAA4BF,EAA5BE,MAAO4J,EAAqB9J,EAArB8J,MAAqBnR,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,2BAE5E,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAWN,IAAW,CAC1BwJ,mBAAmB,EACnBC,SAAYnN,GAAS,EACrBoN,SAAYpN,EAAQ,EACpBiN,MAASA,KAETrJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACbhE,EAAMqN,QAAQ,IAEfhK,EACEO,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBAAyBX,GACxC,QCKQY,mBANf,SAAyB7F,GACxB,MAAO,CACNnC,aAAcmC,EAAMgB,OAAOnC,OAAOmB,EAAMgB,OAAO7B,aAAatB,eAI/CgI,CArBuB,SAAAd,GAA8B,IAA5BlH,EAA4BkH,EAA5BlH,aAA4BH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,kBACnE,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACdJ,EAAAC,EAAAC,cAACwJ,GAAD,CACCL,OAAK,EACLjN,MAAO/D,EACPoH,MAAM,oBAGRO,EAAAC,EAAAC,cAAA,oCCHYyJ,GAVoB,WAClC,OACC3J,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACdJ,EAAAC,EAAAC,cAAC0J,GAAD,MACA5J,EAAAC,EAAAC,cAAC2J,GAAD,MACA7J,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBAAf,iECkDY0J,GA/CqC,SAAAvK,GAAyB,IAAvBkD,EAAuBlD,EAAvBkD,QAAY9C,EAAWzH,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,aAAA2B,EAChDC,oBAAkB,GAD8BG,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GACrExB,EADqE4B,EAAA,GAC7DoB,EAD6DpB,EAAA,GAAA+B,EAEhDlC,mBAA6B,MAFmBmC,EAAApL,OAAAqJ,EAAA,EAAArJ,CAAAmL,EAAA,GAErE0G,EAFqEzG,EAAA,GAE7D0G,EAF6D1G,EAAA,GActEf,EAAU,WACfG,GAAU,IAEV,OACC1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0C,SAAA,KACC3C,EAAAC,EAAAC,cAAA,QAAMC,QAfW,SAACuD,GACpBhB,GAAWhD,GACXsK,EAAUtG,EAAMuG,iBAcZxH,GAED/C,EACAM,EAAAC,EAAAC,cAACgK,GAAAjK,EAAD,CACCkK,MAAM,EACNC,SAAUL,EACVM,aAAc,CACbC,SAAU,MACVC,WAAY,SAEbhI,QAASA,GACTvC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACbT,EAAMqB,UAERhB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACdJ,EAAAC,EAAAC,cAACqI,EAAD,CAAQpI,QAASoC,GAAjB,UACAvC,EAAAC,EAAAC,cAACqI,EAAD,CAAQ1H,QAAM,EAACV,QA5BT,WACZR,EAAMkD,WACNH,GAAU,KA0BJ,SAID,OCnCD8H,8MACLhQ,MAAM,CACLiQ,eAAe,EACfC,gBAAiB,mFAEFhH,GACfO,KAAK0G,SAAS,CACbD,gBAAiBhH,EAAM0E,OAAOhM,qDAI/B6H,KAAKtE,MAAMiL,YACV3G,KAAKtE,MAAMlG,cAAcH,UACzB2K,KAAKzJ,MAAMkQ,wDAIZzG,KAAK0G,SAAS,CAACF,eAAe,2CAG9BxG,KAAK0G,SAAS,CAACF,eAAe,qCAG9B,OACCzK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,4BAA4B0D,aAAcG,KAAKH,aAAa+G,KAAK5G,MAAOJ,aAAcI,KAAKJ,aAAagH,KAAK5G,OAC3HjE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kCACdJ,EAAAC,EAAAC,cAAA,YAAO+D,KAAKtE,MAAMlG,cAAcH,WAC/B2K,KAAKzJ,MAAMiQ,cACXzK,EAAAC,EAAAC,cAAA,QAAME,UAAU,cACfJ,EAAAC,EAAAC,cAAC4K,GAAD,CAAkBjI,SAAUoB,KAAK8G,mBAAmBF,KAAK5G,MAAOxB,QAASzC,EAAAC,EAAAC,cAACqI,EAAD,CAAQxH,OAAK,EAACD,OAAK,GAAnB,MACxEd,EAAAC,EAAAC,cAAC6G,EAAD,CACC9D,KAAK,eACL7G,MAAO6H,KAAKzJ,MAAMkQ,gBAClB1H,YAAY,kBACZS,SAAUQ,KAAK+G,gBAAgBH,KAAK5G,UAE7B,MAEZjE,EAAAC,EAAAC,cAAA,WAAM+D,KAAKtE,MAAMsL,cAAcxB,QAAQ,IACvCzJ,EAAAC,EAAAC,cAAA,WAAM+D,KAAKtE,MAAMuL,cAAczB,QAAQ,IACvCzJ,EAAAC,EAAAC,cAAA,WAAM+D,KAAKtE,MAAMwL,aAAa1B,QAAQ,YAxCL2B,iBAsDtB/K,mBAAQ,KARvB,SAA4BhC,GAC3B,MAAO,CACNuM,YAAa,SAACtR,EAAmBE,GAApB,OAA6C6E,EzBjErD,SAA2B/E,EAAmBE,GACpD,MAAO,CACNV,KAAM5B,EAAkBuE,gBACxBX,QAAS,CACRtB,eACAF,cyB4DkE+R,CAAkB/R,EAAWE,OAMnF6G,CAAkCmK,WCdlCnK,mBAAQ,KATvB,SAA4BhC,GAC3B,MAAO,CACNiN,oBAAqB,SAAC9R,EAAsB4C,GAC3CiC,E1BdI,SAAgC7E,EAAsB4C,GAC5D,MAAO,CACNtD,KAAM5B,EAAkB6E,sBACxBjB,QAAS,CACRtB,eACA4C,U0BSSmP,CAAuB/R,EAAc4C,OAMlCiE,CA3CsC,SAACV,GAAU,IAAAuB,EAC/BC,mBAAiBxB,EAAM6L,SAAS9S,SAAS+Q,QAAQ,IADlBnI,EAAApJ,OAAAqJ,EAAA,EAAArJ,CAAAgJ,EAAA,GACxDxI,EADwD4I,EAAA,GAC9CmK,EAD8CnK,EAAA,GAe/D,OAFAI,oBAAU,kBAAM+J,EAAY9L,EAAM6L,SAAS9S,SAAS+Q,QAAQ,KAAK,CAAC9J,IAGjEK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,4BACbT,EAAM6L,SAAShS,cAEjBwG,EAAAC,EAAAC,cAACoI,GAAD,CACCpF,WAAS,EACTD,KAAK,WACL7G,MAAO1D,EACP+K,SAAU,SAACC,GAAD,OAAW+H,EAAY/H,EAAM0E,OAAOhM,QAC9CuH,OAtBgB,SAACvH,GACfA,IAAUA,GACbuD,EAAM2L,oBAAoB3L,EAAM6L,SAAShS,aAAc4C,GACvDqP,EAAYrP,EAAMqN,QAAQ,KAE1BgC,GAAY,GAAIhC,QAAQ,OAmBxBzJ,EAAAC,EAAAC,cAAA,WAAMP,EAAM6L,SAAS7S,SAAS8Q,QAAQ,KAAM,GAAIA,QAAQ,IACxDzJ,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACwJ,GAAD,CAAgBtN,MAAOuD,EAAM6L,SAAStS,cCI/BmH,mBATf,SAAyB7F,GACxB,IAAMkB,EAAQlB,EAAMgB,OAAOnC,OAAOmB,EAAMgB,OAAO7B,aAE/C,MAAO,CACNrB,WAAYoD,EAAMpD,WAClBoT,OAAQhQ,EAAMzD,iBAIDoI,CAzCwD,SAAAd,GAAoC,IAAlCjH,EAAkCiH,EAAlCjH,WAAYoT,EAAsBnM,EAAtBmM,OAAsBxT,OAAA0H,EAAA,EAAA1H,CAAAqH,EAAA,yBAE1G,OACCS,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,4BACdJ,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,yBAEAwL,EAAOnT,IAAI,SAACoT,EAAGrP,GACf,IAAMsP,EAAkBtT,EAAWgF,OAAO,SAAApB,GAAC,OAAIyP,EAAErS,YAAc4C,EAAEzC,gBAC3DwR,EAAwBW,EAAgBrE,OAAO,SAACsE,EAAK3P,GAAN,OAAY2P,EAAM3P,EAAExD,UAAU,GAC7EwS,EAAwBU,EAAgBrE,OAAO,SAACsE,EAAK3P,GAAN,OAAY2P,EAAM3P,EAAEvD,UAAU,GAC7EwS,EAAuBS,EAAgBrE,OAAO,SAACsE,EAAK3P,GAAN,OAAY2P,EAAM3P,EAAEhD,SAAS,GAEjF,OACC8G,EAAAC,EAAAC,cAAA,OAAKO,IAAKnE,GACT0D,EAAAC,EAAAC,cAAC4L,GAAD,CACCrS,cAAekS,EACfV,cAAeA,EACfC,cAAeA,EACfC,aAAcA,IAEdS,EAAgBrT,IAAI,SAACwT,EAAIzP,GAAL,OAAW0D,EAAAC,EAAAC,cAAC8L,GAAD,CAAmBvL,IAAKnE,EAAGkP,SAAUO,YC5BtDE,4LAEnB,OACCjM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BAHyBgL,kBCYrCc,8MACL1R,MAAM,CACLkQ,gBAAiB,gFAELhH,GACZO,KAAK0G,SAAS,CACbD,gBAAiBhH,EAAM0E,OAAOhM,yCAGvB,IAAA0J,EAAA7B,KACR,OACCjE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2BACdJ,EAAAC,EAAAC,cAAC4K,GAAD,CACCjI,SAAU,kBAAMiD,EAAKnG,MAAMwM,iBAAiBrG,EAAKtL,MAAMkQ,kBACvDjI,QAASzC,EAAAC,EAAAC,cAACqI,EAAD,CAAQzH,OAAK,GAAb,iBAETd,EAAAC,EAAAC,cAAC6G,EAAD,CACC9D,KAAK,eACLD,YAAY,qBACZ5G,MAAO6H,KAAKzJ,MAAMkQ,gBAClBjH,SAAUQ,KAAKmI,aAAavB,KAAK5G,UAGpCjE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,4BACdJ,EAAAC,EAAAC,cAACmM,GAAD,MACArM,EAAAC,EAAAC,cAACoM,GAAD,eA1BuBlB,iBA0Cb/K,mBAAQ,KARvB,SAA4BhC,GAC3B,MAAO,CACN8N,iBAAkB,SAAC7S,GAClB+E,E7BxCI,SAAgC/E,GACtC,MAAO,CACNR,KAAM5B,EAAkByE,sBACxBb,QAAS,CACRxB,c6BoCSiT,CAAuBjT,OAKpB+G,CAAkC6L,IC3ClCxD,GATc,WAC5B,OACC1I,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACdJ,EAAAC,EAAAC,cAACsM,GAAD,MACAxM,EAAAC,EAAAC,cAACuM,GAAD,sBCkBYpM,mBARf,SAAyB7F,GACxB,MAAO,CACNc,SAA2C,IAAlCd,EAAM5B,SAASQ,cACrBiO,GAAe7M,EAAM5B,SAASA,UAC9B4B,EAAM5B,SAASA,SAAS4B,EAAM5B,SAASQ,iBAI7BiH,CArBsD,SAACV,GACrE,OACCK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wBACbT,EAAMrE,QAAQzC,aAEhBmH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACbT,EAAMrE,QAAQpC,wDCYbwT,sNACLC,WAAoC,OACpCnS,MAAQ,CACPoS,UAAWhI,EAAKjF,MAAMkN,IACtBC,SAAUlI,EAAKjF,MAAMkN,OAASjI,EAAKjF,MAAMmN,SACzCC,YAAY7U,OAAAO,EAAA,EAAAP,CAAA,GAAM0M,EAAKjF,MAAMoN,gBAqG9BC,aAAe,SAACjT,GACf6K,EAAK+F,SAAS,CACboC,YAAY7U,OAAAO,EAAA,EAAAP,CAAA,GACR0M,EAAKpK,MAAMuS,YADJ,CAEVhT,KAAMjC,IAAOiC,GAAM/B,OAAO,4GAvGH2H,GACzBsE,KAAK0G,SAAS,CACboC,YAAY7U,OAAAO,EAAA,EAAAP,CAAA,GAAMyH,EAAMoN,aACxBD,WAAYnN,EAAMmN,gDAGPpJ,GACZO,KAAK0G,SAAS,CACboC,YAAY7U,OAAAO,EAAA,EAAAP,CAAA,GACR+L,KAAKzJ,MAAMuS,YADJ7U,OAAA+U,GAAA,EAAA/U,CAAA,GAETwL,EAAM0E,OAAOnF,KAAOS,EAAM0E,OAAOhM,iDAKtB,IAAA8Q,EACoBjJ,KAAKzJ,MAA/BuS,EADMG,EACNH,YAAaD,EADPI,EACOJ,SACfjN,EAAaC,IAAW,CAC7BqN,wBAAwB,EACxBL,WAAcA,IAEf,OACC9M,EAAAC,EAAAC,cAAA,OAAKC,QAAS8D,KAAK9D,QAAQ0K,KAAK5G,MAAOmJ,cAAenJ,KAAKmJ,cAAcvC,KAAK5G,MAAO7D,UAAWP,GAC/FG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBACb2M,EAAYlU,aAEdmH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACb2M,EAAYhT,MAEdiG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACb2M,EAAYjT,WAEdkG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wBACb2M,EAAYvT,cAEdwG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sBACb2M,EAAY/S,QAEdgG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBACb2M,EAAY9S,sDAMhB2H,SAASyL,iBAAiB,YAAapJ,KAAKqJ,mBAAmBzC,KAAK5G,sDAIpErC,SAAS2L,oBAAoB,YAAatJ,KAAKqJ,mBAAmBzC,KAAK5G,+CAIlEA,KAAKzJ,MAAMoS,SACf3I,KAAK0G,SAAS,CACbiC,SAAS,sCAMP3I,KAAKzJ,MAAMsS,SACd7I,KAAKtE,MAAM6N,oBAAoBvJ,KAAKzJ,MAAMuS,YAAYlT,IAEtDoK,KAAKtE,MAAM8N,kBAAkBxJ,KAAKzJ,MAAMuS,YAAYlT,IAGrDoK,KAAK0G,SAAS,CACbmC,UAAW7I,KAAKzJ,MAAMsS,sDAILpJ,GACdO,KAAK0I,aAAe1I,KAAK0I,WAAWe,SAAShK,EAAM0E,SACtDnE,KAAK0J,8CAKN,GAAI1J,KAAKtE,MAAMkN,IACd,OAAO5I,KAAKtE,MAAMiO,uBAGnB3J,KAAK0G,SAAS,CACbiC,SAAS,EACTG,YAAY7U,OAAAO,EAAA,EAAAP,CAAA,GAAM+L,KAAKtE,MAAMoN,gDAK1B9I,KAAKtE,MAAMkN,IACd5I,KAAKtE,MAAMkO,kBAAkB5J,KAAKzJ,MAAMuS,aAExC9I,KAAKtE,MAAMmO,sBAAsB7J,KAAKzJ,MAAMuS,aAG7C9I,KAAK0J,mDAYU,IAAA7H,EAAA7B,KACP8I,EAAgB9I,KAAKzJ,MAArBuS,YACR,OACC/M,EAAAC,EAAAC,cAAA,OAAK6N,IAAK,SAAAC,GAAC,OAAIlI,EAAK6G,WAAaqB,GAAG5N,UAAU,wBAC7CJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBACdJ,EAAAC,EAAAC,cAACmI,GAAD,CACCpF,KAAK,cACL7G,MAAO2Q,EAAYlU,YACnB4K,SAAUQ,KAAKmI,aAAavB,KAAK5G,MACjCkD,QAASlD,KAAKtE,MAAM/G,SAASL,IAAI,SAAAiP,GAAG,OAAIA,EAAI3O,iBAE9CmH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACdJ,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CACChL,KAAK,OACLiL,WAAW,aACXpB,SAAU,IAAIqB,KAAKrW,IAAOmM,KAAKzJ,MAAMuS,YAAYhT,KAAM,cAAc/B,UACrEoI,UAAU,QACVhE,MAAO2Q,EAAYhT,KACnB0J,SAAUQ,KAAK+I,gBAEjBhN,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACdJ,EAAAC,EAAAC,cAACmI,GAAD,CACCpF,KAAK,YACL7G,MAAO2Q,EAAYjT,UACnB2J,SAAUQ,KAAKmI,aAAavB,KAAK5G,MACjCkD,QAASlD,KAAKtE,MAAMtF,OAAOiD,OAAO,SAAA8Q,GAAK,OAAKA,EAAMjV,UAASZ,IAAI,SAAA6V,GAAK,OAAIA,EAAMtU,eAEhFkG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wBACdJ,EAAAC,EAAAC,cAACmI,GAAD,CACCpF,KAAK,eACL7G,MAAO2Q,EAAYvT,aACnBiK,SAAUQ,KAAKmI,aAAavB,KAAK5G,MACjCkD,QAASlD,KAAKtE,MAAMrH,WAAWC,IAAI,SAAAC,GAAG,OAAIA,EAAIgB,eAAc0B,OAAO,CAAC,sBAEtE8E,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sBACdJ,EAAAC,EAAAC,cAAC6G,EAAD,CACC9D,KAAK,SACL7G,MAAO2Q,EAAY/S,OAAO8C,WAC1B2G,SAAUQ,KAAKmI,aAAavB,KAAK5G,SAEnCjE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBACdJ,EAAAC,EAAAC,cAAC6G,EAAD,CACC9D,KAAK,UACL7G,MAAO2Q,EAAY9S,QAAQ6C,WAC3B2G,SAAUQ,KAAKmI,aAAavB,KAAK5G,SAEnCjE,EAAAC,EAAAC,cAACqI,EAAD,CAAQpI,QAAS8D,KAAK0J,SAAS9C,KAAK5G,OAApC,UACAjE,EAAAC,EAAAC,cAACqI,EAAD,CAAQpI,QAAS8D,KAAKoK,OAAOxD,KAAK5G,OAAlC,0CAKF,OAAIA,KAAKzJ,MAAMoS,QACP3I,KAAKqK,gBAELrK,KAAKsK,sBA1KmBnD,kBAiMnB/K,mBARf,SAAyB7F,GACxB,MAAO,CACN5B,SAAU4B,EAAM5B,SAASA,SACzBN,WAAYkC,EAAMgB,OAAOnC,OAAO,GAAGf,WACnC+B,OAAQG,EAAMH,OAAOA,SAdvB,SAA4BgE,GAC3B,MAAO,CACNwP,kBAAmB,SAACd,GAAD,OAA8B1O,E3BvM5C,SAA8B0O,GACpC,MAAO,CACNjU,KAAM1B,EAAuBuF,gBAC7B7B,QAAQ5C,OAAAO,EAAA,EAAAP,CAAA,GACJ6U,I2BmMsDyB,CAAqBzB,KAC/Ee,sBAAuB,SAACf,GAAD,OAA8B1O,E3B/LhD,SAAqC0O,GAC3C,MAAO,CACNjU,KAAM1B,EAAuB2F,iBAC7BjC,QAAQ5C,OAAAO,EAAA,EAAAP,CAAA,GACJ6U,I2B2L0D0B,CAA4B1B,KAC1Fa,qBAAsB,kBAAMvP,E3B/KtB,CACNvF,KAAM1B,EAAuB8F,0B2B+K7BuQ,kBAAmB,SAACrQ,GAAD,OAA2BiB,E3B3KzC,SAAiCjB,GACvC,MAAO,CACNtE,KAAM1B,EAAuB+F,mBAC7BrC,QAAS,CACRsC,kB2BuKsDsR,CAAwBtR,KAC/EoQ,oBAAqB,SAACpQ,GAAD,OAA2BiB,E3BnK3C,SAAmCjB,GACzC,MAAO,CACNtE,KAAM1B,EAAuBiG,qBAC7BvC,QAAS,CACRsC,kB2B+JwDuR,CAA0BvR,OAYtEiD,CAA6CqM,IC/J7CrM,mBATf,SAAyB7F,GACxB,MAAO,CACNpB,eAAiD,IAAlCoB,EAAM5B,SAASQ,cAAuBiO,GAAe7M,EAAM5B,SAASA,UAAY4B,EAAM5B,SAASA,SAAS4B,EAAM5B,SAASQ,eACtIgB,eAAgBI,EAAMZ,aAAaQ,eACnCR,aAAcY,EAAMZ,aAAaA,aACjCO,qBAAsBK,EAAMZ,aAAaO,uBAI5BkG,CAhD+B,SAACV,GAAU,IAChDvG,EAAsEuG,EAAtEvG,cAAeQ,EAAuD+F,EAAvD/F,aAAcQ,EAAyCuF,EAAzCvF,eAAgBD,EAAyBwF,EAAzBxF,qBACrD,OACC6F,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gCACdJ,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,uBAEA9F,EAAiB4F,EAAAC,EAAAC,cAAC0O,GAAD,CAAoB/B,KAAG,EAACE,YAAa,CACtDlT,GAAI,SACJhB,YAAaO,EAAcP,YAC3BiB,UAAW,SACXN,aAAc,iBACdO,KAAMjC,MAASE,OAAO,cACtBgC,OAAQ,EACRC,QAAS,EACTC,UAAU,EACVf,SAAS,KACF,KAEPS,EAAarB,IAAI,SAAAyE,GACjB,IAAKA,EAAM7D,UAAY6D,EAAMnE,cAAgBO,EAAcP,aAA6C,iBAA9BO,EAAcP,aACvF,OACCmH,EAAAC,EAAAC,cAAC0O,GAAD,CACC9B,SAAU3S,EAAqBuD,SAASV,EAAMnD,IAC9C4G,IAAKzD,EAAMnD,GACXkT,YAAa/P,SCDLqD,mBAAQ,KAPvB,SAA4BhC,GAC3B,MAAO,CACNwQ,sBAAuB,kBAAMxQ,E7BbvB,CACNvF,KAAM1B,EAAuB6F,2B6Ba7B6R,kBAAmB,kBAAMzQ,E7BuBnB,CACNvF,KAAM1B,EAAuBqG,wB6BpBhB4C,CA3BoC,SAACV,GACnD,OACCK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACdJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACdJ,EAAAC,EAAAC,cAACqI,EAAD,CACCzH,OAAK,EACLX,QAASR,EAAMkP,uBAFhB,mBAMA7O,EAAAC,EAAAC,cAACqI,EAAD,CACCzH,OAAK,EACLX,QAASR,EAAMmP,mBAFhB,WAKD9O,EAAAC,EAAAC,cAAC6O,GAAD,SCdYrX,GATgB,WAC9B,OACCsI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACdJ,EAAAC,EAAAC,cAAC8O,GAAD,MACAhP,EAAAC,EAAAC,cAAC+O,GAAD,QCuBY5O,mBANf,SAAyB7F,GACxB,MAAO,CACN/C,KAAM+C,EAAMD,IAAI9C,OAIH4I,CArBe,SAACV,GAC9B,OACCK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACZ,WACD,OAAQT,EAAMlI,MACb,KAAKH,EAAQoR,OACZ,OAAO1I,EAAAC,EAAAC,cAACgP,GAAD,MACR,KAAK5X,EAAQI,SACZ,OAAOsI,EAAAC,EAAAC,cAACiP,GAAD,OALR,MCCUC,GATa,WAC3B,OACCpP,EAAAC,EAAAC,cAAA,OAAKrG,GAAG,SACNmG,EAAAC,EAAAC,cAACmP,GAAD,MACArP,EAAAC,EAAAC,cAACoP,GAAD,QCQWC,oLAVX,OACEvP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsP,EAAA,EAAD,CAAUtR,MAAOc,KACfgB,EAAAC,EAAAC,cAACuP,GAAD,eALQC,aCMEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,kECZNC,IAASC,OAAOjQ,EAAAC,EAAAC,cAACgQ,GAAD,MAAStO,SAASuO,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.b48c9ad1.chunk.js","sourcesContent":["export enum AppActionTypes {\n\tCHANGE_VIEW = \"CHANGE_VIEW\",\n\tREDIRECT_TO_BUDGET = \"REDIRECT_TO_BUDGET\",\n\tREDIRECT_TO_REPORTS = \"REDIRECT_TO_REPORTS\",\n\tREDIRECT_TO_ACCOUNTS = \"REDIRECT_TO_ACCOUNTS\",\n\tERROR = \"ERROR\",\n\tDO_NOTHING = \"DO_NOTHING\"\n\t\n}\n\nexport enum BudgetActionTypes {\n\tCREATE_CATEGORY = \"CREATE_CATEGORY\",\n\tCREATE_CATEGORY_GROUP = \"CREATE_CATEGORY_GROUP\",\n\tSET_NEXT_MONTH_ACTIVE = \"SET_NEXT_MONTH_ACTIVE\",\n\tSET_PREV_MONTH_ACTIVE = \"SET_PREV_MONTH_ACTIVE\",\n\tAPPEND_MONTH = \"APPEND_MONTH\",\n\tSET_CATEGORY_BUDGETED = \"SET_CATEGORY_BUDGETED\",\n\tADD_TO_ACTIVITY = \"ADD_TO_ACTIVITY\"\n}\n\nexport enum AccountActionTypes {\n\tSET_ACTIVE_ACCOUNT = \"SET_ACTIVE_ACCOUNT\",\n\tCREATE_ACCOUNT = \"CREATE_ACCOUNT\",\n\tADD_TO_BALANCE = \"ADD_TO_BALANCE\"\n}\n\nexport enum TransactionActionTypes {\n\tADD_TRANSACTION = \"ADD_TRANSACTION\",\n\tTRIGGER_NEW_TRANSACTION = \"TRIGGER_NEW_TRANSACTION\",\n\tCANCEL_NEW_TRANSACTION = \"CANCEL_NEW_TRANSACTION\",\n\tEDIT_TRANSACTION = \"EDIT_TRANSACTION\",\n\tSELECT_TRANSACTION = \"SELECT_TRANSACTION\",\n\tUNSELECT_TRANSACTION = \"UNSELECT_TRANSACTION\",\n\tCLEAR_SELECTED = \"CLEAR_SELECTED\",\n\tDELETE_TRANSACTION = \"DELETE_TRANSACTION\"\n}\n\nexport enum PayeesActionTypes {\n\tADD_PAYEE = \"ADD_PAYEE\",\n}","export enum AppView {\n    Budget,\n    Reports,\n    Accounts\n}","import { AnyAction } from \"redux\";\nimport { AppActionTypes } from \"../actions/types\";\nimport { AppView } from \"../types/app\";\n\nexport interface AppState {\n\tview: AppView,\n}\n\nexport const defaultState = {\n\tview: AppView.Accounts,\n}\n\nexport default (state: AppState = defaultState, action: AnyAction) => {\n\tswitch (action.type) {\n\t\tcase AppActionTypes.CHANGE_VIEW:\n\t\t\treturn {...state, view: action.payload}\n\t}\n    return state;\n}","export interface Account {\n\taccountName: string,\n\ttype: AccountType,\n\tonBudget: boolean,\n\tclosed: boolean,\n\tbalance: number,\n\tdeleted: boolean,\n}\n\nexport interface Payee {\n\tpayeeName: string,\n\tdeleted: boolean,\n}\n\nexport enum AccountType {\n\tCurrent = \"Current\",\n}\n\n","import { Month } from \"../types/categories\";\nimport moment from 'moment';\nimport { Account, AccountType } from \"../types/accounts\";\n\nexport function newMonthHelper(lastMonth: Month | undefined) : Month {\n\tif (lastMonth) {\n\t\treturn {\n\t\t\tmonthName: moment(lastMonth.monthName, \"MMMYYYY\").add(1, \"months\").format(\"MMMYYYY\"),\n\t\t\tcategoryGroups: [...lastMonth.categoryGroups],\n\t\t\tageOfMoney : 0,\n\t\t\ttoBeBudgeted: 0,\n\t\t\tcategories: lastMonth.categories.map(cat => {\n\t\t\t\treturn {\n\t\t\t\t\t...cat,\n\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\tactivity: 0\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tmonthName: moment().format(\"MMMYYYY\"),\n\t\t\tcategoryGroups: [],\n\t\t\tageOfMoney : 0,\n\t\t\ttoBeBudgeted: 0,\n\t\t\tcategories: []\n\t\t};\n\t}\n}\n\nexport function newAccountHelper(\n\taccountName: string,\n\ttype: AccountType,\n\tbalance: number) : Account {\n\treturn {\n\t\taccountName,\n\t\ttype,\n\t\tonBudget: true,\n\t\tclosed: false,\n\t\tbalance,\n\t\tdeleted: false,\n\t}\n}","import { AnyAction } from \"redux\";\nimport { Account, AccountType } from '../types/accounts';\nimport { AccountActionTypes } from \"../actions/types\";\nimport { newAccountHelper } from \"./helpers\";\n\n\nexport interface AccountsState {\n\taccounts: Account[],\n\tactiveAccount: number\n}\n\nexport const defaultState = {\n\taccounts: [\n\t\t{\n\t\t\taccountName: \"Test Account\",\n\t\t\ttype: AccountType.Current,\n\t\t\tonBudget: true,\n\t\t\tclosed: false,\n\t\t\tbalance: 220,\n\t\t\tdeleted: false,\n\t\t},\n\t\t{\n\t\t\taccountName: \"Test Account 2\",\n\t\t\ttype: AccountType.Current,\n\t\t\tonBudget: true,\n\t\t\tclosed: false,\n\t\t\tbalance: 300,\n\t\t\tdeleted: false,\n\t\t}\n\t],\n\tactiveAccount: -1\n}\n\nexport default function (state: AccountsState = defaultState, action: AnyAction) {\n\tconst { payload } = action;\n\tswitch (action.type) {\n\t\tcase AccountActionTypes.SET_ACTIVE_ACCOUNT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveAccount: payload.accountIndex\n\t\t\t}\n\t\tcase AccountActionTypes.CREATE_ACCOUNT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccounts: [\n\t\t\t\t\t...state.accounts,\n\t\t\t\t\tnewAccountHelper(payload.accountName, payload.accountType, payload.startingBalance)\n\t\t\t\t]\n\t\t\t}\n\t\tcase AccountActionTypes.ADD_TO_BALANCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccounts: [\n\t\t\t\t\t...state.accounts.map(account => {\n\t\t\t\t\t\tif (payload.accountName === account.accountName) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...account,\n\t\t\t\t\t\t\t\tbalance: account.balance + payload.amount\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn { ...account }\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}\n\t}\n\n\treturn state;\n}","import { AnyAction } from \"redux\";\nimport { Month } from \"../types/categories\";\nimport { BudgetActionTypes } from \"../actions/types\";\nimport { newMonthHelper } from \"./helpers\";\nimport moment from 'moment';\n\nexport interface BudgetState {\n\tmonths: Month[],\n\tactiveMonth: number\n}\n\nexport const defaultState: BudgetState = {\n\tmonths: [\n\t\t{\n\t\t\tmonthName: \"Apr2019\",\n\t\t\ttoBeBudgeted: 0.0,\n\t\t\tcategoryGroups: [\n\t\t\t\t{\n\t\t\t\t\tgroupName: \"Recreation\",\n\t\t\t\t\thidden: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroupName: \"Savings\",\n\t\t\t\t\thidden: false\n\t\t\t\t}\n\t\t\t],\n\t\t\tcategories: [\n\t\t\t\t{\n\t\t\t\t\tcategoryName: \"Holiday\",\n\t\t\t\t\tcategoryGroup: \"Savings\",\n\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\tactivity: 0,\n\t\t\t\t\tbalance: 0,\n\t\t\t\t\thidden: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcategoryName: \"House\",\n\t\t\t\t\tcategoryGroup: \"Savings\",\n\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\tactivity: 0,\n\t\t\t\t\tbalance: 0,\n\t\t\t\t\thidden: false,\n\t\t\t\t},\n\t\t\t],\n\t\t\tageOfMoney: 0,\n\t\t\tnote: \"test month\"\n\t\t},\n\t\t{\n\t\t\tmonthName: \"May2019\",\n\t\t\ttoBeBudgeted: 0,\n\t\t\tcategoryGroups: [\n\t\t\t\t{\n\t\t\t\t\tgroupName: \"Recreation\",\n\t\t\t\t\thidden: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroupName: \"Savings\",\n\t\t\t\t\thidden: false\n\t\t\t\t}\n\t\t\t],\n\t\t\tcategories: [\n\t\t\t\t{\n\t\t\t\t\tcategoryName: \"Holiday\",\n\t\t\t\t\tcategoryGroup: \"Savings\",\n\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\tactivity: 520,\n\t\t\t\t\tbalance: 520,\n\t\t\t\t\thidden: false,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcategoryName: \"House\",\n\t\t\t\t\tcategoryGroup: \"Savings\",\n\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\tactivity: 0,\n\t\t\t\t\tbalance: 0,\n\t\t\t\t\thidden: false,\n\t\t\t\t},\n\t\t\t],\n\t\t\tageOfMoney: 0,\n\t\t\tnote: \"test month\"\n\t\t}\n\t],\n\tactiveMonth: 1\n}\n\nexport default (state: BudgetState = defaultState, action: AnyAction) => {\n\tconst { payload } = action;\n\tswitch (action.type) {\n\t\tcase BudgetActionTypes.CREATE_CATEGORY:\n\t\t\treturn {\n\t\t\t\t...state, months: state.months.map(month => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...month, categories: [...month.categories, {\n\t\t\t\t\t\t\tcategoryName: payload.categoryName,\n\t\t\t\t\t\t\tcategoryGroup: payload.groupName,\n\t\t\t\t\t\t\tbudgeted: 0,\n\t\t\t\t\t\t\tactivity: 0,\n\t\t\t\t\t\t\tbalance: 0,\n\t\t\t\t\t\t\thidden: false,\n\t\t\t\t\t\t}]\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t};\n\t\tcase BudgetActionTypes.CREATE_CATEGORY_GROUP:\n\t\t\treturn {\n\t\t\t\t...state, months: state.months.map(month => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...month, categoryGroups: [...month.categoryGroups, {\n\t\t\t\t\t\t\tgroupName: payload.groupName,\n\t\t\t\t\t\t\thidden: false\n\t\t\t\t\t\t}]\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t};\n\t\tcase BudgetActionTypes.APPEND_MONTH:\n\t\t\tconst lastMonth = state.months[state.months.length - 1];\n\t\t\treturn {\n\t\t\t\t...state, months: [\n\t\t\t\t\t...state.months, newMonthHelper(lastMonth)]\n\t\t\t}\n\t\tcase BudgetActionTypes.SET_NEXT_MONTH_ACTIVE:\n\t\t\treturn { ...state, activeMonth: state.activeMonth + 1 }\n\t\tcase BudgetActionTypes.SET_PREV_MONTH_ACTIVE:\n\t\t\treturn { ...state, activeMonth: state.activeMonth - 1 }\n\t\tcase BudgetActionTypes.SET_CATEGORY_BUDGETED:\n\t\t\tconst catInd = state.months[state.activeMonth].categories.findIndex(c => c.categoryName === payload.categoryName);\n\t\t\tconst budgetChangeDifference = payload.value - state.months[state.activeMonth].categories[catInd].budgeted;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmonths: [\n\t\t\t\t\t...state.months.slice(0, state.activeMonth),\n\t\t\t\t\t...state.months.slice(state.activeMonth).map((month, i) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...month,\n\t\t\t\t\t\t\ttoBeBudgeted: i === 0 ? month.toBeBudgeted - budgetChangeDifference : month.toBeBudgeted,\n\t\t\t\t\t\t\tcategories: [\n\t\t\t\t\t\t\t\t...month.categories.slice(0, catInd),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...month.categories[catInd],\n\t\t\t\t\t\t\t\t\tbudgeted: i === 0 ? payload.value : month.categories[catInd].budgeted,\n\t\t\t\t\t\t\t\t\tbalance: month.categories[catInd].balance += budgetChangeDifference\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t...month.categories.slice(catInd + 1)\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t};\n\t\tcase BudgetActionTypes.ADD_TO_ACTIVITY:\n\t\t\tconst _month = moment(payload.date, \"DD/MM/YYYY\").format(\"MMMYYYY\");\n\t\t\tconsole.log(payload);\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmonths: [...state.months.map(month => {\n\t\t\t\t\tif (month.monthName !== _month) {\n\t\t\t\t\t\treturn { ...month }\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...month,\n\t\t\t\t\t\ttoBeBudgeted: payload.categoryName === \"To Be Budgeted\" ? month.toBeBudgeted + payload.value : month.toBeBudgeted,\n\t\t\t\t\t\tcategories: [...month.categories.map(cat => {\n\t\t\t\t\t\t\tif (cat.categoryName !== payload.categoryName) {\n\t\t\t\t\t\t\t\treturn { ...cat }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(\"here\");\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...cat,\n\t\t\t\t\t\t\t\tactivity: cat.activity + payload.value,\n\t\t\t\t\t\t\t\tbalance: cat.balance + payload.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})]\n\t\t\t\t\t}\n\t\t\t\t})]\n\t\t\t}\n\t}\n\treturn { ...state };\n}","import { Transaction } from \"../types/transactions\";\nimport { AnyAction } from \"redux\";\nimport { TransactionActionTypes } from \"../actions/types\";\n\nexport interface TransactionsState {\n\ttransactions: Transaction[],\n\tselectedTransactions: string[],\n\tnewTransaction: boolean\n}\n\nconst defaultState: TransactionsState = {\n\ttransactions: [\n\t\t{\n\t\t\tid: \"12345\",\n\t\t\taccountName: \"Test Account\",\n\t\t\tpayeeName: \"Jane\",\n\t\t\tcategoryName: \"Holiday\",\n\t\t\tdate: \"27/05/2019\",\n\t\t\tinflow: 20.00,\n\t\t\toutflow: 0,\n\t\t\tapproved: true,\n\t\t\tdeleted: false\n\t\t},\n\t\t{\n\t\t\tid: \"54321\",\n\t\t\taccountName: \"Test Account\",\n\t\t\tpayeeName: \"Jane\",\n\t\t\tcategoryName: \"Holiday\",\n\t\t\tdate: \"27/05/2019\",\n\t\t\tinflow: 200.00,\n\t\t\toutflow: 0,\n\t\t\tapproved: true,\n\t\t\tdeleted: false\n\t\t},\n\t\t{\n\t\t\tid: \"13579\",\n\t\t\taccountName: \"Test Account 2\",\n\t\t\tpayeeName: \"Bob\",\n\t\t\tcategoryName: \"Holiday\",\n\t\t\tdate: \"28/05/2019\",\n\t\t\tinflow: 300.00,\n\t\t\toutflow: 0,\n\t\t\tapproved: true,\n\t\t\tdeleted: false\n\t\t}\n\t],\n\tselectedTransactions: [],\n\tnewTransaction: false\n}\n\nexport default (state: TransactionsState = defaultState, action: AnyAction) => {\n\tconst { payload } = action;\n\tswitch (action.type) {\n\t\tcase TransactionActionTypes.ADD_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransactions: [\n\t\t\t\t\t...state.transactions,\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Math.random().toString(), // TODO: make this use an actual uuid generator\n\t\t\t\t\t\taccountName: payload.accountName,\n\t\t\t\t\t\tpayeeName: payload.payeeName,\n\t\t\t\t\t\tcategoryName: payload.categoryName,\n\t\t\t\t\t\tdate: payload.date,\n\t\t\t\t\t\tinflow: payload.inflow,\n\t\t\t\t\t\toutflow: payload.outflow,\n\t\t\t\t\t\tapproved: true,\n\t\t\t\t\t\tdeleted: false\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tnewTransaction: false\n\t\t\t}\n\t\tcase TransactionActionTypes.EDIT_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransactions: [\n\t\t\t\t\t...state.transactions.map(trans => {\n\t\t\t\t\t\tif (trans.id !== payload.id) {\n\t\t\t\t\t\t\treturn { ...trans }\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...trans,\n\t\t\t\t\t\t\taccountName: payload.accountName,\n\t\t\t\t\t\t\tpayeeName: payload.payeeName,\n\t\t\t\t\t\t\tcategoryName: payload.categoryName,\n\t\t\t\t\t\t\tdate: payload.date,\n\t\t\t\t\t\t\tinflow: payload.inflow,\n\t\t\t\t\t\t\toutflow: payload.outflow\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t}\n\t\tcase TransactionActionTypes.TRIGGER_NEW_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewTransaction: true\n\t\t\t}\n\n\t\tcase TransactionActionTypes.CANCEL_NEW_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewTransaction: false\n\t\t\t}\n\t\tcase TransactionActionTypes.SELECT_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedTransactions: [\n\t\t\t\t\t...state.selectedTransactions,\n\t\t\t\t\tpayload.transactionID\n\t\t\t\t]\n\t\t\t}\n\t\tcase TransactionActionTypes.UNSELECT_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedTransactions: [\n\t\t\t\t\t...state.selectedTransactions.filter(st => st !== payload.transactionID)\n\t\t\t\t]\n\t\t\t}\n\t\tcase TransactionActionTypes.CLEAR_SELECTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedTransactions: []\n\t\t\t}\n\t\tcase TransactionActionTypes.DELETE_TRANSACTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttransactions: [...state.transactions.map(trans => {\n\t\t\t\t\tif (state.selectedTransactions.includes(trans.id)) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...trans,\n\t\t\t\t\t\t\tdeleted: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...trans }\n\t\t\t\t})],\n\t\t\t\tselectedTransactions: []\n\t\t\t}\n\t}\n\n\treturn state;\n\n}","import { Payee } from \"../types/accounts\";\nimport { AnyAction } from \"redux\";\nimport { PayeesActionTypes } from \"../actions/types\";\n\nexport interface PayeesState {\n\tpayees: Payee[]\n}\n\nconst defaultState: PayeesState = {\n\tpayees: [\n\t\t{\n\t\t\tpayeeName: \"Bob\",\n\t\t\tdeleted: false\n\t\t},\n\t\t{\n\t\t\tpayeeName: \"Jane\",\n\t\t\tdeleted: false\n\t\t},\n\t\t{\n\t\t\tpayeeName: \"Super Duper Inc.\",\n\t\t\tdeleted: false\n\t\t},\n\t\t{\n\t\t\tpayeeName: \"Deleted & Sons\",\n\t\t\tdeleted: true\n\t\t}\n\t]\n}\n\nexport default (state: PayeesState = defaultState, action: AnyAction) => {\n\tconst { payload } = action;\n\tswitch (action.type) {\n\t\tcase PayeesActionTypes.ADD_PAYEE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpayees: [\n\t\t\t\t\t...state.payees,\n\t\t\t\t\t{ payeeName: payload.payeeName, deleted: false}\n\t\t\t\t]\n\t\t\t}\n\t}\n\n\treturn { ...state }\n}","import { combineReducers } from 'redux';\n\nimport appReducer, { AppState } from './app';\nimport accountsReducer, { AccountsState } from './accounts';\nimport budgetReducer, { BudgetState } from './budget';\nimport transactionsReducer, { TransactionsState } from './transactions';\nimport payeesReducer, {PayeesState} from './payees';\n\nexport interface RootState {\n    app: AppState,\n\taccounts: AccountsState,\n\tbudget: BudgetState,\n\ttransactions: TransactionsState,\n\tpayees: PayeesState\n}\n\nexport default combineReducers<RootState>({\n    app: appReducer as any,\n\taccounts: accountsReducer as any,\n\tbudget: budgetReducer as any,\n\ttransactions: transactionsReducer as any,\n\tpayees: payeesReducer as any\n})","import { BudgetActionTypes } from './types';\n\nexport function addCategoryAction(groupName: string, categoryName: string) {\n\treturn {\n\t\ttype: BudgetActionTypes.CREATE_CATEGORY,\n\t\tpayload: {\n\t\t\tcategoryName,\n\t\t\tgroupName\n\t\t}\n\t}\n}\n\nexport function addCategoryGroupAction(groupName: string) {\n\treturn {\n\t\ttype: BudgetActionTypes.CREATE_CATEGORY_GROUP,\n\t\tpayload: {\n\t\t\tgroupName\n\t\t}\n\t}\n}\n\nexport function nextMonthAction() {\n\treturn {\n\t\ttype: BudgetActionTypes.SET_NEXT_MONTH_ACTIVE\n\t}\n}\n\nexport function prevMonthAction() {\n\treturn {\n\t\ttype: BudgetActionTypes.SET_PREV_MONTH_ACTIVE\n\t}\n}\n\nexport function appendMonthAction() {\n\treturn {\n\t\ttype: BudgetActionTypes.APPEND_MONTH\n\t}\n}\n\nexport function setMonthBudgetedAction(categoryName: string, value: number) {\n\treturn {\n\t\ttype: BudgetActionTypes.SET_CATEGORY_BUDGETED,\n\t\tpayload: {\n\t\t\tcategoryName,\n\t\t\tvalue\n\t\t}\n\t}\n}\n\nexport function addToActivityAction(categoryName: string, date: string, value: number) {\n\treturn {\n\t\ttype: BudgetActionTypes.ADD_TO_ACTIVITY,\n\t\tpayload: {\n\t\t\tcategoryName,\n\t\t\tdate,\n\t\t\tvalue\n\t\t}\n\t}\n}","import { AppView } from \"../types/app\";\nimport { AppActionTypes } from \"./types\";\n\nexport function changeViewAction(view: AppView) {\n\treturn {\n\t\ttype: AppActionTypes.CHANGE_VIEW,\n\t\tpayload: view\n\t}\n}\n\nexport function errorAction(error?: Error | string) {\n\treturn {\n\t\ttype: AppActionTypes.ERROR,\n\t\tpayload: error\n\t}\n}\n\nexport function doNothingAction() {\n\treturn {\n\t\ttype: AppActionTypes.DO_NOTHING\n\t}\n}","import { Middleware } from \"redux\";\nimport { RootState } from \"../reducers\";\nimport { BudgetActionTypes } from \"../actions/types\";\nimport { appendMonthAction } from \"../actions/budget\";\nimport { errorAction } from \"../actions/app\";\n\nconst validationMiddleware: Middleware = (store) => (next) => (action) => {\t\n\tconst state : RootState = store.getState();\n\tswitch (action.type) {\n\t\tcase BudgetActionTypes.SET_NEXT_MONTH_ACTIVE:\n\t\t\tif (state.budget.activeMonth + 1 > state.budget.months.length - 1)\n\t\t\t\tstore.dispatch(appendMonthAction());\n\t\t\treturn next(action);\n\t\t\t\t\n\t\tcase BudgetActionTypes.CREATE_CATEGORY:\n\t\t\treturn state.budget.months[0].categories.findIndex(cat => \n\t\t\t\tcat.categoryName.toLowerCase() === action.payload.categoryName.toLowerCase()) > -1 \n\t\t\t\t\t? next(errorAction())\n\t\t\t\t\t: next(action);\n\t\tcase BudgetActionTypes.CREATE_CATEGORY_GROUP:\n\t\t\treturn state.budget.months[0].categoryGroups.findIndex(cg => \n\t\t\t\tcg.groupName.toLowerCase() === action.payload.groupName.toLowerCase()) > -1\n\t\t\t\t\t? next(errorAction())\n\t\t\t\t\t: next(action)\n\t\t\t\n\n\t\tdefault:\n\t\t\treturn next(action);\n\t\t\t\n\t\t\t\n\t}\n\n}\n\nexport default validationMiddleware;","import { AccountActionTypes } from \"./types\";\nimport { AccountType } from \"../types/accounts\";\n\nexport function addAccountAction(\n\taccountName: string,\n\taccountType: AccountType,\n\tstartingBalance: number) {\n\treturn {\n\t\ttype: AccountActionTypes.CREATE_ACCOUNT,\n\t\tpayload: {\n\t\t\taccountName,\n\t\t\taccountType,\n\t\t\tstartingBalance\n\t\t}\n\t}\n}\n\nexport function setActiveAccountAction(accountIndex: number) {\n\treturn {\n\t\ttype: AccountActionTypes.SET_ACTIVE_ACCOUNT,\n\t\tpayload: {\n\t\t\taccountIndex\n\t\t}\n\t}\n}\n\nexport function addToBalanceAction(accountName: string, amount: number) {\n\treturn {\n\t\ttype: AccountActionTypes.ADD_TO_BALANCE,\n\t\tpayload: {\n\t\t\taccountName,\n\t\t\tamount\n\t\t}\n\t}\n}","import { Middleware } from \"redux\";\nimport { TransactionActionTypes, AccountActionTypes } from \"../actions/types\";\nimport { addToBalanceAction } from \"../actions/accounts\";\nimport { RootState } from \"../reducers\";\nimport { clearSelectedAction } from \"../actions/transactions\";\nimport { addToActivityAction } from \"../actions/budget\";\nimport { Transaction } from \"../types/transactions\";\n\nconst coreMiddleware: Middleware = (store) => (next) => (action) => {\n\tconst { payload } = action;\n\tconst state : RootState = store.getState();\n\tswitch (action.type) {\n\t\t// TRANSACTIONS\n\t\tcase TransactionActionTypes.ADD_TRANSACTION:\n\t\t\tstore.dispatch(addToBalanceAction(payload.accountName, payload.inflow - payload.outflow))\n\t\t\tstore.dispatch(addToActivityAction(payload.categoryName, payload.date, payload.inflow - payload.outflow))\n\t\t\treturn next(action);\n\n\t\tcase TransactionActionTypes.DELETE_TRANSACTION:\n\t\t\tstate.transactions.selectedTransactions.forEach(transactionID => {\n\t\t\t\tconst toDelete = state.transactions.transactions.find(t => t.id === transactionID);\n\t\t\t\tif (toDelete) {\n\t\t\t\t\tstore.dispatch(addToBalanceAction(toDelete.accountName, -(toDelete.inflow - toDelete.outflow)))\n\t\t\t\t\tstore.dispatch(addToActivityAction(toDelete.categoryName, toDelete.date, -(toDelete.inflow - toDelete.outflow)))\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn next(action);\n\t\t// ACCOUNTS\n\t\tcase AccountActionTypes.SET_ACTIVE_ACCOUNT:\n\t\t\tstore.dispatch(clearSelectedAction())\n\t\t\treturn next(action)\n\t\t// TRANSACTIONS\n\t\tcase TransactionActionTypes.EDIT_TRANSACTION:\n\t\t\tconst toEdit : Transaction | undefined  = state.transactions.transactions.find(t => t.id === payload.id);\n\n\t\t\tif (toEdit) {\n\t\t\t\tif (toEdit.date !== payload.date) {\n\t\t\t\t\tstore.dispatch(addToActivityAction(toEdit.categoryName, toEdit.date, -(toEdit.inflow - toEdit.outflow)))\n\t\t\t\t\tstore.dispatch(addToActivityAction(payload.categoryName, payload.date, (toEdit.inflow - toEdit.outflow)))\n\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstore.dispatch(addToBalanceAction(payload.accountName, (payload.inflow - toEdit.inflow) - (payload.outflow - toEdit.outflow)))\n\t\t\t\t\tstore.dispatch(addToActivityAction(payload.categoryName, payload.date, (payload.inflow - toEdit.inflow) - (payload.outflow - toEdit.outflow)))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn next(action);\n\n\n\t}\n\n\treturn next(action);\n}\n\nexport default coreMiddleware;","import { TransactionActionTypes } from \"./types\";\nimport { Transaction } from \"../types/transactions\";\n\nexport function addTransactionAction(transaction : Transaction) {\n\treturn {\n\t\ttype: TransactionActionTypes.ADD_TRANSACTION,\n\t\tpayload: {\n\t\t\t...transaction\n\t\t}\n\t}\n}\n\nexport function saveEditedTransactionAction(transaction: Transaction) {\n\treturn {\n\t\ttype: TransactionActionTypes.EDIT_TRANSACTION,\n\t\tpayload: {\n\t\t\t...transaction\n\t\t}\n\t}\n}\n\nexport function triggerNewTransactionAction() {\n\treturn {\n\t\ttype: TransactionActionTypes.TRIGGER_NEW_TRANSACTION\n\t}\n\n}\n\nexport function cancelNewTransactionAction() {\n\treturn {\n\t\ttype: TransactionActionTypes.CANCEL_NEW_TRANSACTION\n\t}\n}\n\nexport function selectTransactionAction(transactionID: string) {\n\treturn {\n\t\ttype: TransactionActionTypes.SELECT_TRANSACTION,\n\t\tpayload: {\n\t\t\ttransactionID\n\t\t}\n\t}\n}\n\nexport function unselectTransactionAction(transactionID: string) {\n\treturn {\n\t\ttype: TransactionActionTypes.UNSELECT_TRANSACTION,\n\t\tpayload: {\n\t\t\ttransactionID\n\t\t}\n\t}\n}\n\nexport function clearSelectedAction() {\n\treturn {\n\t\ttype: TransactionActionTypes.CLEAR_SELECTED\n\t}\n}\n\nexport function deleteTransactionAction() {\n\treturn {\n\t\ttype: TransactionActionTypes.DELETE_TRANSACTION\n\t\t// No payload as transaction ids to delelet are already in state as selectedTransactions\n\t}\n}","import { createStore, applyMiddleware, Store } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport rootReducer from './reducers';\nimport { RootState } from './reducers';\nimport validationMiddleware from './middleware/validation';\nimport coreMiddleware from './middleware/core';\n\nexport function configureStore(): Store<RootState> {\n\tconst middleware = composeWithDevTools(applyMiddleware(validationMiddleware, coreMiddleware))\n    return createStore(rootReducer, middleware)\n}","import React from 'react'\nimport classNames from 'classnames';\n\nimport './viewcontrol.scss';\n\ninterface Props {\n\ticon: string,\n\tlabel: string,\n\tactive: boolean\n}\n\ninterface Actions {\n\tonClick: () => void;\n}\n\nconst ViewControl: React.FC<Props & Actions> = ({icon, label, active, ...props}) => {\n\tconst CSSClasses = classNames({\n\t\t\"view-control\": true,\n\t\t\"active\": active\n\t})\n\treturn (\n\t\t<div onClick={props.onClick} className={CSSClasses}>\n\t\t\t<div>\n\t\t\t\t<span className=\"icon\">{icon}</span>\n\t\t\t\t<span className=\"label\">{label}</span>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default ViewControl;","import './account-picker.scss';\nimport React from 'react'\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../reducers';\nimport { Dispatch } from 'redux';\nimport { setActiveAccountAction } from '../../../actions/accounts';\nimport { AppView } from '../../../types/app';\nimport { changeViewAction } from '../../../actions/app';\nimport classNames from 'classnames';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nconst AccountPicker: React.FC<Props & Actions> = ({accounts, activeAccount, view, ...props}) => {\n\tconst setAccount = (accountIndex: number) => {\n\t\tprops.setActiveAccount(accountIndex);\n\t\tprops.setAppView(AppView.Accounts);\n\t}\n\n\treturn (\n\t\t<div className=\"account-picker\">\n\t\t\t<div className=\"account-picker-header\">\n\t\t\t\tBUDGET\n\t\t\t</div>\n\t\t\t<div className=\"account-picker-accounts\">\n\t\t\t\t{accounts.filter(account => account.onBudget).map((account, i) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => setAccount(i)}\n\t\t\t\t\t\t\tkey={account.accountName}\n\t\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\t\"account-picker-account\": true,\n\t\t\t\t\t\t\t\t\"active\": activeAccount === i && view === AppView.Accounts\n\t\t\t\t\t\t\t})}>\n\t\t\t\t\t\t\t\t<span>{account.accountName}</span>\n\t\t\t\t\t\t\t\t<span>{account.balance}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\taccounts: state.accounts.accounts,\n\t\tactiveAccount: state.accounts.activeAccount,\n\t\tview: state.app.view\n\t}\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\tsetActiveAccount: (accountIndex: number) => dispatch(setActiveAccountAction(accountIndex)),\n\t\tsetAppView: (view: AppView) => dispatch(changeViewAction(view))\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountPicker)\n","export interface IExpressionParser {\n\ttokenise: (expr: string) => Array<string>,\n\tparse: (expr: string) => Array<string>,\n\tevaluate: (expr: string) => number\n}\n\nexport interface IToken {\n\ttype: TokenType,\n\tvalue: string\n}\n\nexport enum TokenType {\n\tLiteral = \"Literal\",\n\tOperator = \"Operator\",\n\tLeftParenth = \"LeftParenth\",\n\tRightParenth = \"RightParenth\",\n\tDecimalPoint = \"DecimalPoint\"\n}","import './button.scss';\nimport React, { PureComponent } from 'react';\nimport classNames from 'classnames';\n\ninterface Props {\n\tsmall?: boolean,\n\tfilled?: boolean,\n\tround?: boolean,\n}\n\ninterface Actions {\n\tonClick?: () => void\n}\n\nconst Button: React.FC<Props & Actions> = (props) => {\n\tconst CSSClasses = classNames({\n\t\t\"button\": true,\n\t\t\"filled\": props.filled,\n\t\t\"small\": props.small,\n\t\t\"round\": props.round\n\t})\n\treturn (\n\t\t<button className={CSSClasses} onClick={props.onClick}>\n\t\t\t{props.children}\n\t\t</button>\n\t)\n}\n\nexport default Button;\n","import './modal.scss'\nimport React, { PureComponent, useState, useEffect } from 'react'\n\ninterface Props {\n\n}\n\ninterface Actions {\n\tonClose: () => void,\n\tokAction: () => void\n}\n\nconst Modal: React.FC<Props & Actions> = (props) => {\n\tconst [sizeAdjustment, setSizeAdjustment] = useState({\n\t\tmarginTop: \"0px\",\n\t\tmarginLeft: \"0px\"\n\t})\n\n\tconst onOk = () => {\n\t\tprops.okAction();\n\t}\n\n\tuseEffect(() => {\n\t\tconst modalContainer = document.getElementsByClassName(\"modal-container\")[0];\n\t\tconst width = modalContainer.clientWidth;\n\t\tconst height = modalContainer.clientHeight;\n\n\t\tsetSizeAdjustment({\n\t\t\tmarginTop: -(height / 2) + \"px\",\n\t\t\tmarginLeft: -(width / 2) + \"px\"\n\t\t})\n\n\t\treturn () => {\n\t\t\tmodalContainer.classList.add(\"show\");\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className=\"modal\">\n\t\t\t<div className=\"modal-backdrop\">\n\t\t\t\t<div style={sizeAdjustment} className=\"modal-container\">\n\t\t\t\t\t{React.cloneElement(props.children as any, { closeModal: props.onClose })}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Modal\n","import './triggered-modal.scss';\nimport React, { useState } from 'react';\nimport Modal from '../Modal';\n\ninterface Props {\n\ttrigger: React.ReactElement<any>,\n}\n\ninterface Actions {\n\tokAction?: () => void,\n\tcancelAction?: () => void\n}\n\nconst TriggeredModal: React.FC<Props & Actions> = ({trigger, ...props}) => {\n\tconst [active, setActive] = useState<boolean>(false);\n\n\tconst onClose = () => {\n\t\tsetActive(false);\n\t\tif (props.cancelAction) props.cancelAction();\n\n\t}\n\tconst onOk = () => {\n\t\tsetActive(false);\n\t\tif (props.okAction) props.okAction();\n\t}\n\treturn (\n\t\t<>\n\t\t\t<span onClick={() => setActive(!active)}>\n\t\t\t\t{trigger}\n\t\t\t</span>\n\t\t\t{active ?\n\t\t\t\t<Modal\n\t\t\t\t\tokAction={onOk}\n\t\t\t\t\tonClose={onClose}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</Modal>\n\t\t\t\t: null}\n\t\t</>\n\t)\n}\n\nexport default TriggeredModal;","import './input.scss';\nimport React, { useState } from 'react'\n\ninterface Props {\n\tplaceholder?: string,\n\tvalue: string\n\tname: string,\n\thoverable?: boolean\n\tlabel?: string\n}\n\ninterface Actions {\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void,\n\tonBlur?: () => void\n}\n\nconst Input: React.FC<Props & Actions> = ({placeholder, value, name, hoverable, label, ...props}) => {\n\tconst [hovered, setHovered] = useState<boolean>(false);\n\tconst [focused, setFocused] = useState<boolean>(false);\n\n\tconst handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tprops.onChange(event);\n\t}\n\n\tconst onBlur = () => {\n\t\tsetFocused(false);\n\t\tif (props.onBlur) props.onBlur();\n\t}\n\n\treturn (\n\t\t<div className=\"input-wrapper\">\n\t\t\t{!hoverable || focused || hovered ?\n\t\t\t\t<>\n\t\t\t\t\t{label ?\n\t\t\t\t\t\t<div className=\"input-label\">{label}</div> : null}\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\tonFocus={() => setFocused(true)}\n\t\t\t\t\t\tonMouseLeave={() => setHovered(false)}\n\t\t\t\t\t/>\n\t\t\t\t</> :\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"input-off\"\n\t\t\t\t\tonMouseEnter={() => setHovered(true)}\n\t\t\t\t>\n\t\t\t\t\t{value}\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n\n}\n\nexport default Input;\n","import { IToken, TokenType, IExpressionParser } from \"./IExpressionParser\";\n\nclass Token implements IToken {\n\ttype: TokenType;\n\tvalue: string;\n\tconstructor(type: TokenType, value: string) {\n\t\tthis.type = type;\n\t\tthis.value = value;\n\t}\n}\n\nexport default class ExpressionParser implements IExpressionParser {\n\tprivate prec: { [index: string]: number } = {\n\t\t'+': 2,\n\t\t'-': 2,\n\t\t'*': 3,\n\t\t'/': 3\n\t};\n\n\tprivate precedence(t: string) : number {\n\t\treturn this.prec[t];\n\t}\n\n\tprivate peek(arr: Array<any>) : any {\n\t\treturn arr[arr.length - 1];\n\t}\n\n\tprivate isDigit(ch: string) : boolean{\n\t\treturn /\\d/.test(ch);\n\t}\n\n\tprivate isOperator(ch: string) : boolean {\n\t\treturn /\\+|-|\\*|\\/|\\^/.test(ch);\n\t}\n\n\tprivate isLeftParenth(ch: string) : boolean {\n\t\treturn ch === \"(\";\n\t}\n\n\tprivate isRightParenth(ch: string) : boolean {\n\t\treturn ch === \")\";\n\t}\n\n\tprivate isDecimalPoint(ch: string) : boolean {\n\t\treturn ch === \".\";\n\t}\n\n\tpublic tokenise(expr: string) : Array<string>{\n\t\tif (!expr) return []\n\t\t\n\t\tconst tokens : Array<IToken> = [];\n\t\tlet buffer : Array<string> = [];\n\n\t\tconst emptyBuffer = () => {\n\t\t\tif (buffer.length) {\n\t\t\t\ttokens.push(new Token(TokenType.Literal, buffer.join(\"\")))\n\t\t\t\tbuffer = [];\n\t\t\t}\n\t\t}\n\t\t\n\n\t\texpr.split(\"\").forEach((ch, i) => {\n\t\t\tif (this.isDigit(ch)){\n\t\t\t\tbuffer.push(ch);\n\t\t\t}\n\t\t\telse if (this.isDecimalPoint(ch)) {\n\t\t\t\tbuffer.push(ch);\n\t\t\t}\n\t\t\telse if (this.isOperator(ch)) {\n\t\t\t\tif (buffer.length || (tokens.length && this.peek(tokens).type === TokenType.RightParenth)) {\n\t\t\t\t\temptyBuffer();\n\t\t\t\t\ttokens.push(new Token(TokenType.Operator, ch))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuffer.push(ch);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (this.isLeftParenth(ch)) {\n\t\t\t\temptyBuffer();\n\t\t\t\ttokens.push(new Token(TokenType.LeftParenth, ch))\n\t\t\t}\n\t\t\t\t\n\t\t\telse if (this.isRightParenth(ch)) {\n\t\t\t\temptyBuffer();\n\t\t\t\ttokens.push(new Token(TokenType.RightParenth, ch))\n\t\t\t}\n\t\t})\n\n\t\temptyBuffer();\n\n\t\treturn tokens.map(token => token.value)\n\t}\n\n\tpublic parse(expr: string) : Array<string> {\n\n\t\tconst tokens = this.tokenise(expr);\n\n\t\tlet operators: Array<string> = [];\n\t\tlet literals: Array<string> = [];\n\n\t\t// Shunting-yard algorithm\n\t\t// https://en.wikipedia.org/wiki/Shunting-yard_algorithm\n\t\ttokens!.forEach((t: string) => {\n\t\t\tswitch (t) {\n\t\t\t\tcase '-':\n\t\t\t\tcase '/':\n\t\t\t\tcase '*':\n\t\t\t\tcase '+':\n\t\t\t\t\twhile (['+', '-', '*', '/'].includes(this.peek(operators))) {\n\t\t\t\t\t\tif (this.precedence(this.peek(operators)) < this.precedence(t)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tliterals.push(operators.pop()!)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toperators.push(t)\n\t\t\t\t\tbreak;\n\t\t\t\tcase '(':\n\t\t\t\t\toperators.push(t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ')':\n\t\t\t\t\twhile (this.peek(operators) !== '(')\n\t\t\t\t\t\tliterals.push(operators.pop()!);\n\t\t\t\t\toperators.pop();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tliterals.push(t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn literals.concat(operators.reverse());\n\t}\n\n\tpublic evaluate(expr: string) : number {\n\t\tconst postfix = this.parse(expr);\n\n\t\tif (!postfix || !postfix.length) return NaN;\n\t\t\n\t\tconst stack: Array<number> = [];\n\n\t\ttry {\n\t\t\tpostfix.forEach((token) => {\n\t\t\t\tconst e = Number(token);\n\t\t\t\tif (e === e)\n\t\t\t\t\treturn stack.push(e);\n\t\n\t\t\t\tconst op1 = stack.pop();\n\t\t\t\tconst op2 = stack.pop();\n\t\n\t\t\t\tif (op1 === undefined || op2 === undefined)\n\t\t\t\t\tthrow new Error(\"Expression Invalid\");\n\t\n\t\t\t\tswitch (token) {\n\t\t\t\t\tcase '+':\n\t\t\t\t\t\tstack.push(op2 + op1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '-':\n\t\t\t\t\t\tstack.push(op2 - op1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '/':\n\t\t\t\t\t\tstack.push(op2 / op1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '*':\n\t\t\t\t\t\tstack.push(op2 * op1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(\"Expression Invalid\");\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (Error) {\n\t\t\treturn NaN\n\t\t}\n\n\t\treturn stack.pop()!;\n\t};\n}","import './calculator-input.scss';\nimport React from 'react';\nimport Input from '../Input';\nimport ExpressionParser from '../../utils/ExpressionEvaluator';\n\ninterface Props {\n\tplaceholder?: string,\n\tvalue: string,\n\tname: string,\n\thoverable?: boolean\n\tlabel?: string\n}\n\ninterface Actions {\n\tonChange: (event: React.ChangeEvent<HTMLInputElement>) => void\n\tonBlur: (value?: any) => void\n}\n\nconst CalculatorInput: React.FC<Props & Actions> = ({placeholder, value, name, hoverable, label, ...props}) => {\n\tconst onBlur = () => {\n\t\tconst calculatedValue = new ExpressionParser().evaluate(value);\n\t\tprops.onBlur(calculatedValue)\n\t}\n\treturn (\n\t\t<Input\n\t\t\tplaceholder={placeholder}\n\t\t\tlabel={label}\n\t\t\tname={name}\n\t\t\tvalue={value}\n\t\t\tonChange={props.onChange}\n\t\t\tonBlur={onBlur}\n\t\t\thoverable={hoverable}\n\t\t/>\n\t)\n}\n\nexport default CalculatorInput;","import './drop-down.scss';\nimport React, { PureComponent } from 'react'\n\ninterface Props {\n\toptions: string[],\n\tvalue: string,\n\tname?: string,\n\tlabel?: string\n}\n\ninterface Actions {\n\tonChange: (event: React.ChangeEvent<HTMLSelectElement>) => void\n}\n\nconst Dropdown: React.FC<Props & Actions> = ({ options, value, name, label, ...props }) => {\n\treturn (\n\t\t<>\n\t\t\t{label ?\n\t\t\t\t<div className=\"drop-down-label\">{label}</div> : null}\n\t\t\t<select name={name} value={value} onChange={props.onChange} className=\"drop-down\">\n\t\t\t\t{options.map(option => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<option value={option} key={option}>\n\t\t\t\t\t\t\t{option}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</select>\n\t\t</>\n\t)\n}\n\nexport default Dropdown;","import { Account, AccountType } from \"../types/accounts\";\nimport moment from 'moment';\n\nexport function getAllAccounts(accounts : Account[]) : Account {\n\tconst reduceHelper : Account = {\n\t\taccountName: \"All Accounts\",\n\t\ttype: AccountType.Current,\n\t\tonBudget: true,\n\t\tclosed: false,\n\t\tbalance: 0,\n\t\tdeleted: false\n\t} \n\treturn accounts.reduce((acc, val) => {\n\t\treturn {\n\t\t\taccountName: acc.accountName,\n\t\t\ttype: acc.type,\n\t\t\tonBudget: acc.onBudget,\n\t\t\tclosed: acc.closed,\n\t\t\tbalance: acc.balance + val.balance,\n\t\t\tdeleted: acc.deleted\n\t\t}\n\t}, reduceHelper)\n}\n\nexport function getAllAccountTypes() {\n\tconst types: string[] = [];\n\tfor (const t in AccountType) {\n\t\ttypes.push(t)\n\t}\n\treturn types;\n}\n\nexport function getMonth(date: string, format: string = \"DD/MM/YYYY\") {\n\treturn moment(date, format).format(\"MMMYYYY\");\n}","import './new-account-form.scss'\n\nimport React, { useState } from 'react';\nimport Input from '../../components/Input';\nimport CalculatorInput from '../../components/CalculatorInput';\nimport Button from '../../components/Button';\nimport Dropdown from '../../components/Dropdown';\nimport { AccountType } from '../../types/accounts';\nimport { getAllAccountTypes } from '../../utils/helpers';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { addAccountAction } from '../../actions/accounts';\n\ninterface Props {}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {\n\tcloseModal?: () => void\n}\n\nconst NewAccountForm: React.FC<Props & Actions> = (props) => {\n\tconst [accountName, setAccountName] = useState<string>(\"\");\n\tconst [startBalance, setStartBalance] = useState<string>(\"0.0\");\n\tconst [accountType, setAccountType] = useState<string>(AccountType.Current as string)\n\t\n\tconst onSubmit = () => {\n\t\tprops.addAccount(accountName, accountType as AccountType, Number(startBalance));\n\n\t\tif (props.closeModal) props.closeModal();\n\t}\n\t\n\n\treturn (\n\t\t<div className=\"new-account-form\">\n\t\t\t<div className=\"new-account-form-item\">\n\t\t\t\t<Input\n\t\t\t\tname=\"accountName\"\n\t\t\t\tlabel=\"Account Name\"\n\t\t\t\tvalue={accountName}\n\t\t\t\tonChange={e => setAccountName(e.target.value)}/>\n\t\t\t</div>\n\n\t\t\t<div className=\"new-account-form-item\">\n\t\t\t\t<Dropdown\n\t\t\t\t\tvalue={accountType}\n\t\t\t\t\tlabel=\"Account Type\"\n\t\t\t\t\toptions={getAllAccountTypes()}\n\t\t\t\t\tonChange={e => setAccountType(e.target.value)}/>\n\t\t\t</div>\n\n\t\t\t<div className=\"new-account-form-item\">\n\t\t\t\t<CalculatorInput\n\t\t\t\t\tname=\"startBalance\"\n\t\t\t\t\tlabel=\"Starting Balance\"\n\t\t\t\t\tvalue={startBalance}\n\t\t\t\t\tonBlur={setStartBalance}\n\t\t\t\t\tonChange={e => setStartBalance(e.target.value)} />\n\t\t\t</div>\n\n\t\t\t<Button filled onClick={onSubmit}>\n\t\t\t\tAdd Account\n\t\t\t</Button>\n\t\t</div>\n\t)\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\taddAccount: (accountName: string, accountType: AccountType, startBalance: number) =>\n\t\t\tdispatch(addAccountAction(accountName, accountType, startBalance))\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(NewAccountForm)","import React from 'react';\nimport ViewControl from './ViewControl';\n\nimport './sidebar.scss';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../reducers';\nimport { AppView } from '../../types/app';\nimport { Dispatch } from 'redux';\nimport { changeViewAction } from '../../actions/app';\nimport AccountPicker from './AccountPicker';\nimport Button from '../../components/Button';\nimport { setActiveAccountAction } from '../../actions/accounts';\nimport TriggeredModal from '../../components/TriggeredModal';\nimport NewAccountForm from '../../forms/NewAccountForm';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nconst Sidebar: React.FC<Props & Actions> = ({view, ...props}) => {\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<div className=\"name\">Liam</div>\n\t\t\t<div className=\"view-controls\">\n\t\t\t\t<ViewControl\n\t\t\t\t\tonClick={() => props.changeView(AppView.Budget)}\n\t\t\t\t\tactive={view === AppView.Budget}\n\t\t\t\t\ticon=\"B\"\n\t\t\t\t\tlabel=\"Budget\"/>\n\t\t\t\t<ViewControl\n\t\t\t\t\tonClick={() => props.changeView(AppView.Reports)}\n\t\t\t\t\tactive={view === AppView.Reports}\n\t\t\t\t\ticon=\"R\"\n\t\t\t\t\tlabel=\"Reports\"/>\n\t\t\t\t<ViewControl\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tprops.changeView(AppView.Accounts);\n\t\t\t\t\t\tprops.setActiveAccount(-1);\n\t\t\t\t\t}}\n\t\t\t\t\tactive={view === AppView.Accounts}\n\t\t\t\t\ticon=\"A\"\n\t\t\t\t\tlabel=\"Accounts\"/>\n\t\t\t</div>\n\t\t\t<AccountPicker />\n\t\t\t<div className=\"add-account-button\">\n\t\t\t\t<TriggeredModal\n\t\t\t\t\ttrigger={<Button filled small>Add Account</Button>}>\n\t\t\t\t\t\t<NewAccountForm />\n\t\t\t\t</TriggeredModal>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\tview: state.app.view\n\t}\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\tchangeView: (view: AppView) => dispatch(changeViewAction(view)),\n\t\tsetActiveAccount: (accountIndex: number) => dispatch(setActiveAccountAction(accountIndex))\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (Sidebar);\n","import './month-control.scss';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../../reducers';\nimport { Dispatch } from 'redux';\nimport { nextMonthAction, prevMonthAction } from '../../../../actions/budget';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nconst MonthControl: React.FC<Props & Actions> = ({activeMonth, activeMonthIndex, ...props}) => {\n\tconst formatMonth = (month: string) => {\n\t\treturn month.length === 8 ? month : (month.slice(0, 3) + \" \" + month.slice(3)).toUpperCase();\n\t}\n\n\treturn (\n\t\t<div className=\"month-control\">\n\t\t\t<button disabled={activeMonthIndex < 1} onClick={props.previousMonth}>&lt;</button>\n\t\t\t<div className=\"month-name\">{formatMonth(activeMonth.monthName)}</div>\n\t\t\t<button onClick={props.nextMonth}>&gt;</button>\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\tactiveMonth: state.budget.months[state.budget.activeMonth],\n\t\tactiveMonthIndex: state.budget.activeMonth\n\t}\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\tnextMonth: () => dispatch(nextMonthAction()),\n\t\tpreviousMonth: () => dispatch(prevMonthAction())\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MonthControl)\n","import './value-indicator.scss'\nimport React from 'react'\nimport classNames from 'classnames';\n\ninterface Props {\n\tvalue: number,\n\tlabel?: string\n\tlarge?: boolean\n}\n\nconst ValueIndicator : React.FC<Props> = ({value, label, large, ...props}) => {\n\n\t\treturn (\n\t\t\t<div className={classNames({\n\t\t\t\t\"value-indicator\": true,\n\t\t\t\t\"positive\": value >= 0,\n\t\t\t\t\"negative\": value < 0,\n\t\t\t\t\"large\": large\n\t\t\t})}>\n\t\t\t\t<div className=\"value-indicator-value\">\n\t\t\t\t\t{value.toFixed(2)}\n\t\t\t\t</div>\n\t\t\t\t{label\n\t\t\t\t\t? <div className=\"value-indicator-label\">{label}</div>\n\t\t\t\t\t: null}\n\t\t\t</div>\n\t\t)\n}\n\nexport default ValueIndicator\n","import './month-summary.scss';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../../reducers';\nimport ValueIndicator from '../../../../components/ValueIndicator';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\n\nconst MonthSummary: React.FC<Props> = ({toBeBudgeted, ...props}) => {\n\treturn (\n\t\t<div className=\"month-summary\">\n\t\t\t<div className=\"to-be-budgeted\">\n\t\t\t\t<ValueIndicator\n\t\t\t\t\tlarge\n\t\t\t\t\tvalue={toBeBudgeted}\n\t\t\t\t\tlabel=\"To Be Budgeted\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div> I'm a placeholder</div>\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\ttoBeBudgeted: state.budget.months[state.budget.activeMonth].toBeBudgeted\n\t}\n}\n\nexport default connect(mapStateToProps)(MonthSummary)\n","import './budget-header.scss';\nimport React from 'react'\nimport MonthControl from './MonthControl';\nimport MonthSummary from './MonthSummary';\n\nconst BudgetHeader: React.FC<{}> = () => {\n\treturn (\n\t\t<div className=\"budget-header\">\n\t\t\t<MonthControl />\n\t\t\t<MonthSummary />\n\t\t\t<div className=\"age-of-money\">40 years</div>\n\t\t</div>\n\t)\n}\n\nexport default BudgetHeader;","import './triggered-popover.scss';\nimport React, { useState, ReactElement } from 'react';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '../Button';\n\ninterface Props {\n\ttrigger: ReactElement<any>,\n}\n\ninterface Actions {\n\tokAction: () => void,\n}\n\nconst TriggeredPopover: React.FC<Props & Actions> = ({trigger, ...props}) => {\n\tconst [active, setActive] = useState<boolean>(false)\n\tconst [anchor, setAnchor] = useState<EventTarget | null>(null)\n\n\tconst handleClick = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetActive(!active);\n\t\tsetAnchor(event.currentTarget)\n\t}\n\n\tconst onOk = () => {\n\t\tprops.okAction();\n\t\tsetActive(false)\n\t}\n\n\tconst onClose = () => {\n\t\tsetActive(false);\n\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<span onClick={handleClick}>\n\t\t\t\t\t{trigger}\n\t\t\t\t</span>\n\t\t\t\t{active ?\n\t\t\t\t\t<Popover\n\t\t\t\t\t\topen={true}\n\t\t\t\t\t\tanchorEl={anchor as HTMLElement}\n\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClose={onClose}>\n\t\t\t\t\t\t<div className=\"popup\">\n\t\t\t\t\t\t\t<div className=\"popup-content\">\n\t\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"popup-buttons\">\n\t\t\t\t\t\t\t\t<Button onClick={onClose}>Cancel</Button>\n\t\t\t\t\t\t\t\t<Button filled onClick={onOk}>Ok</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Popover>\n\t\t\t\t\t: null}\n\n\t\t\t</>\n\t\t)\n}\n\nexport default TriggeredPopover;","import './budget-category-group-row.scss';\nimport React, { PureComponent } from 'react';\nimport TriggeredPopover from '../../../../../components/TriggeredPopover';\nimport Button from '../../../../../components/Button';\nimport { CategoryGroup } from '../../../../../types/categories';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { addCategoryAction } from '../../../../../actions/budget';\nimport Input from '../../../../../components/Input';\n\ninterface Props {\n\tcategoryGroup: CategoryGroup,\n\ttotalBudgeted: number,\n\ttotalActivity: number,\n\ttotalBalance: number\n}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nclass BudgetCategoryGroupRow extends PureComponent<Props & Actions> {\n\tstate={\n\t\tshowAddButton: false,\n\t\tnewCategoryName: \"\"\n\t}\n\tonNewNameChange(event: React.ChangeEvent<HTMLInputElement>) {\n\t\tthis.setState({\n\t\t\tnewCategoryName: event.target.value\n\t\t});\n\t}\n\tonAddCategoryClick() {\n\t\tthis.props.addCategory(\n\t\t\tthis.props.categoryGroup.groupName,\n\t\t\tthis.state.newCategoryName\n\t\t)\n\t}\n\tonMouseEnter() {\n\t\tthis.setState({showAddButton: true})\n\t}\n\tonMouseLeave() {\n\t\tthis.setState({showAddButton: false})\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"budget-category-group-row\" onMouseEnter={this.onMouseEnter.bind(this)} onMouseLeave={this.onMouseLeave.bind(this)}>\n\t\t\t\t<div className=\"budget-category-group-row-name\">\n\t\t\t\t\t<span>{this.props.categoryGroup.groupName}</span>\n\t\t\t\t\t{this.state.showAddButton ?\n\t\t\t\t\t\t<span className=\"add-button\">\n\t\t\t\t\t\t\t<TriggeredPopover okAction={this.onAddCategoryClick.bind(this)} trigger={<Button round small>+</Button>}>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tname=\"new-category\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.newCategoryName}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Add Category...\"\n\t\t\t\t\t\t\t\t\tonChange={this.onNewNameChange.bind(this)}/>\n\t\t\t\t\t\t\t</TriggeredPopover>\n\t\t\t\t\t\t</span> : null}\n\t\t\t\t</div>\n\t\t\t\t<div>{this.props.totalBudgeted.toFixed(2)}</div>\n\t\t\t\t<div>{this.props.totalActivity.toFixed(2)}</div>\n\t\t\t\t<div>{this.props.totalBalance.toFixed(2)}</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\taddCategory: (groupName: string, categoryName: string) => dispatch(addCategoryAction(groupName, categoryName))\n\t\t\n\t}\n\n}\n\nexport default connect(null, mapDispatchToProps)(BudgetCategoryGroupRow)\n","import './budget-category-row.scss';\n\nimport React, { useState, useEffect } from 'react';\nimport { Category } from '../../../../../types/categories';\nimport { connect } from 'react-redux';\nimport { setMonthBudgetedAction } from '../../../../../actions/budget';\nimport CalculatorInput from '../../../../../components/CalculatorInput';\nimport { Dispatch } from 'redux';\nimport ValueIndicator from '../../../../../components/ValueIndicator';\n\ninterface Props {\n\tcategory: Category\n}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nconst BudgetCategoryRow: React.FC<Props & Actions> = (props) => {\n\tconst [budgeted, setBudgeted] = useState<string>(props.category.budgeted.toFixed(2))\n\n\tconst handleBlur = (value: number) => {\n\t\tif (value === value) {\n\t\t\tprops.setCategoryBudgeted(props.category.categoryName, value);\n\t\t\tsetBudgeted(value.toFixed(2))\n\t\t} else {\n\t\t\tsetBudgeted(0.0.toFixed(2));\n\t\t}\n\t}\n\n\n\tuseEffect(() => setBudgeted(props.category.budgeted.toFixed(2)), [props])\n\n\treturn (\n\t\t<div className=\"budget-category-row\">\n\t\t\t<div className=\"budget-category-row-name\">\n\t\t\t\t{props.category.categoryName}\n\t\t\t</div>\n\t\t\t<CalculatorInput\n\t\t\t\thoverable\n\t\t\t\tname=\"budgeted\"\n\t\t\t\tvalue={budgeted}\n\t\t\t\tonChange={(event) => setBudgeted(event.target.value)}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t/>\n\t\t\t<div>{props.category.activity.toFixed(2) || 0.0.toFixed(2)}</div>\n\t\t\t<div><ValueIndicator value={props.category.balance} /></div>\n\t\t</div>\n\t)\n\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\tsetCategoryBudgeted: (categoryName: string, value: number) => {\n\t\t\tdispatch(setMonthBudgetedAction(categoryName, value));\n\t\t}\n\t}\n\n}\n\nexport default connect(null, mapDispatchToProps)(BudgetCategoryRow);\n","import './budget-categories.scss';\nimport React from 'react'\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../../reducers';\nimport BudgetCategoryGroupRow from './BudgetCategoryGroupRow';\nimport BudgetCategoryRow from './BudgetCategoryRow';\n\nconst BudgetCategories: React.FC<ReturnType<typeof mapStateToProps>> = ({categories, groups, ...props}) => {\n\n\treturn (\n\t\t<div className=\"budget-categories\">\n\t\t\t<div className=\"budget-categories-header\">\n\t\t\t\t<div>CATEGORY</div>\n\t\t\t\t<div>BUDGETED</div>\n\t\t\t\t<div>ACTIVITY</div>\n\t\t\t\t<div>AVAILABLE</div>\n\t\t\t</div>\n\t\t\t{groups.map((g, i) => {\n\t\t\t\tconst groupCategories = categories.filter(c => g.groupName === c.categoryGroup);\n\t\t\t\tconst totalBudgeted: number = groupCategories.reduce((sum, c) => sum + c.budgeted, 0);\n\t\t\t\tconst totalActivity: number = groupCategories.reduce((sum, c) => sum + c.activity, 0);\n\t\t\t\tconst totalBalance: number = groupCategories.reduce((sum, c) => sum + c.balance, 0)\n\n\t\t\t\treturn (\n\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t<BudgetCategoryGroupRow\n\t\t\t\t\t\t\tcategoryGroup={g}\n\t\t\t\t\t\t\ttotalBudgeted={totalBudgeted}\n\t\t\t\t\t\t\ttotalActivity={totalActivity}\n\t\t\t\t\t\t\ttotalBalance={totalBalance}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{groupCategories.map((gc, i) => <BudgetCategoryRow key={i} category={gc} />)}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\tconst month = state.budget.months[state.budget.activeMonth]\n\n\treturn {\n\t\tcategories: month.categories,\n\t\tgroups: month.categoryGroups,\n\t}\n}\n\nexport default connect(mapStateToProps)(BudgetCategories)","import './budget-sidebar.scss';\nimport React, { PureComponent } from 'react'\n\nexport default class BudgetSidebar extends PureComponent {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"budget-sidebar\">\n\t\t\t\t\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import './budget-content.scss';\nimport React, { PureComponent } from 'react';\nimport BudgetCategories from './BudgetCategories';\nimport BudgetSidebar from './BudgetSidebar';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport TriggeredPopover from '../../../components/TriggeredPopover';\nimport Button from '../../../components/Button';\nimport { addCategoryGroupAction } from '../../../actions/budget';\nimport Input from '../../../components/Input';\n\ninterface Props {}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nclass BudgetContent extends PureComponent<Props & Actions> {\n\tstate={\n\t\tnewCategoryName: \"\"\n\t}\n\thandleChange(event: React.ChangeEvent<HTMLInputElement>) {\n\t\tthis.setState({\n\t\t\tnewCategoryName: event.target.value\n\t\t})\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"budget-content\">\n\t\t\t\t<div className=\"budget-category-toolbar\">\n\t\t\t\t\t<TriggeredPopover\n\t\t\t\t\t\tokAction={() => this.props.addCategoryGroup(this.state.newCategoryName)}\n\t\t\t\t\t\ttrigger={<Button small >Add Category</Button>}>\n\t\t\t\t\t\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tname=\"new-category\"\n\t\t\t\t\t\t\tplaceholder=\"New Category Group\"\n\t\t\t\t\t\t\tvalue={this.state.newCategoryName}\n\t\t\t\t\t\t\tonChange={this.handleChange.bind(this)} />\n\t\t\t\t\t</TriggeredPopover>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"budget-category-controls\">\n\t\t\t\t\t<BudgetCategories />\n\t\t\t\t\t<BudgetSidebar />\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapDispatchToProps(dispatch : Dispatch) {\n\treturn {\n\t\taddCategoryGroup: (groupName: string) => {\n\t\t\tdispatch(addCategoryGroupAction(groupName));\n\t\t}\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(BudgetContent)","import React from 'react';\nimport './budget.scss';\nimport BudgetHeader from './BudgetHeader';\nimport BudgetContent from './BudgetContent';\n\nconst Budget: React.FC<{}> = () => {\n\treturn (\n\t\t<div className=\"budget\">\n\t\t\t<BudgetHeader />\n\t\t\t<BudgetContent />\n\t\t</div>\n\t)\n}\n\nexport default Budget;\n","import './accounts-header.scss';\nimport React from 'react'\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../reducers';\nimport { getAllAccounts } from '../../../utils/helpers';\n\nconst AccountsHeader: React.FC<ReturnType<typeof mapStateToProps>> = (props) => {\n\treturn (\n\t\t<div className=\"accounts-header\">\n\t\t\t<div className=\"accounts-header-name\">\n\t\t\t\t{props.account.accountName}\n\t\t\t</div>\n\t\t\t<div className=\"balance\">\n\t\t\t\t{props.account.balance}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\taccount: state.accounts.activeAccount === -1\n\t\t\t? getAllAccounts(state.accounts.accounts)\n\t\t\t: state.accounts.accounts[state.accounts.activeAccount],\n\t}\n}\n\nexport default connect(mapStateToProps)(AccountsHeader)\n","import './accounts-transaction.scss';\n\nimport React, { PureComponent, ChangeEvent } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nimport classNames from 'classnames';\nimport DatePicker from 'react-datepicker';\nimport { Transaction } from '../../../../../types/transactions';\nimport Input from '../../../../../components/Input';\nimport Dropdown from '../../../../../components/Dropdown';\nimport Button from '../../../../../components/Button';\nimport { cancelNewTransactionAction, addTransactionAction, saveEditedTransactionAction, selectTransactionAction, unselectTransactionAction } from '../../../../../actions/transactions';\nimport { RootState } from '../../../../../reducers';\nimport '../../../../../../node_modules/react-datepicker/src/stylesheets/datepicker.scss'\nimport moment from 'moment'\n\ninterface Props extends ReturnType<typeof mapStateToProps> {\n\ttransaction: Transaction\n\tnew?: boolean\n\tselected?: boolean\n}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nclass AccountsTransaction extends PureComponent<Props & Actions> {\n\twrapperRef: HTMLDivElement | null = null;\n\tstate = {\n\t\tediting: !!this.props.new,\n\t\tselected: this.props.new || !!this.props.selected,\n\t\ttransaction: { ...this.props.transaction }\n\t};\n\tcomponentWillReceiveProps(props: Props) {\n\t\tthis.setState({\n\t\t\ttransaction: { ...props.transaction },\n\t\t\tselected: !!props.selected\n\t\t});\n\t}\n\thandleChange(event: ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n\t\tthis.setState({\n\t\t\ttransaction: {\n\t\t\t\t...this.state.transaction,\n\t\t\t\t[event.target.name]: event.target.value\n\t\t\t}\n\t\t});\n\n\t}\n\trenderStatic() {\n\t\tconst { transaction, selected } = this.state;\n\t\tconst CSSClasses = classNames({\n\t\t\t\"accounts-transaction\": true,\n\t\t\t\"selected\": !!selected\n\t\t})\n\t\treturn (\n\t\t\t<div onClick={this.onClick.bind(this)} onDoubleClick={this.onDoubleClick.bind(this)} className={CSSClasses}>\n\t\t\t\t<div className=\"transaction-account\">\n\t\t\t\t\t{transaction.accountName}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-date\">\n\t\t\t\t\t{transaction.date}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-payee\">\n\t\t\t\t\t{transaction.payeeName}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-category\">\n\t\t\t\t\t{transaction.categoryName}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-inflow\">\n\t\t\t\t\t{transaction.inflow}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-outflow\">\n\t\t\t\t\t{transaction.outflow}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousedown', this.handleClickOutside.bind(this));\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener('mousedown', this.handleClickOutside.bind(this));\n\t}\n\n\tonDoubleClick() {\n\t\tif (!this.state.editing) {\n\t\t\tthis.setState({\n\t\t\t\tediting: true\n\t\t\t})\n\t\t}\n\t}\n\n\tonClick() {\n\t\tif (this.state.selected) {\n\t\t\tthis.props.unselectTransaction(this.state.transaction.id)\n\t\t} else {\n\t\t\tthis.props.selectTransaction(this.state.transaction.id)\n\t\t}\n\n\t\tthis.setState({\n\t\t\tselected: !this.state.selected\n\t\t})\n\t}\n\n\thandleClickOutside(event: Event | any) {\n\t\tif (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n\t\t\tthis.onCancel();\n\t\t}\n\t}\n\n\tonCancel() {\n\t\tif (this.props.new) {\n\t\t\treturn this.props.cancelNewTransaction();\n\t\t}\n\n\t\tthis.setState({\n\t\t\tediting: false,\n\t\t\ttransaction: { ...this.props.transaction }\n\t\t})\n\t}\n\n\tonSave() {\n\t\tif (this.props.new) {\n\t\t\tthis.props.addNewTransaction(this.state.transaction)\n\t\t} else {\n\t\t\tthis.props.saveEditedTransaction(this.state.transaction)\n\t\t}\n\n\t\tthis.onCancel();\n\t}\n\n\tonDateChange = (date: Date) => {\n\t\tthis.setState({\n\t\t\ttransaction: {\n\t\t\t\t...this.state.transaction,\n\t\t\t\tdate: moment(date).format(\"DD/MM/YYYY\")\n\t\t\t}\n\t\t})\n\t}\n\n\trenderEditing() {\n\t\tconst { transaction } = this.state;\n\t\treturn (\n\t\t\t<div ref={r => this.wrapperRef = r} className=\"accounts-transaction\">\n\t\t\t\t<div className=\"transaction-account\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tname=\"accountName\"\n\t\t\t\t\t\tvalue={transaction.accountName}\n\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\n\t\t\t\t\t\toptions={this.props.accounts.map(acc => acc.accountName)} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-date\">\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tname=\"date\"\n\t\t\t\t\t\tdateFormat=\"DD/MM/YYYY\"\n\t\t\t\t\t\tselected={new Date(moment(this.state.transaction.date, \"DD/MM/YYYY\").format())}\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\tvalue={transaction.date}\n\t\t\t\t\t\tonChange={this.onDateChange} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-payee\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tname=\"payeeName\"\n\t\t\t\t\t\tvalue={transaction.payeeName}\n\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\n\t\t\t\t\t\toptions={this.props.payees.filter(payee => !payee.deleted).map(payee => payee.payeeName)} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-category\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tname=\"categoryName\"\n\t\t\t\t\t\tvalue={transaction.categoryName}\n\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\n\t\t\t\t\t\toptions={this.props.categories.map(cat => cat.categoryName).concat([\"To Be Budgeted\"])} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-inflow\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname=\"inflow\"\n\t\t\t\t\t\tvalue={transaction.inflow.toString()}\n\t\t\t\t\t\tonChange={this.handleChange.bind(this)} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"transaction-outflow\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname=\"outflow\"\n\t\t\t\t\t\tvalue={transaction.outflow.toString()}\n\t\t\t\t\t\tonChange={this.handleChange.bind(this)} />\n\t\t\t\t</div>\n\t\t\t\t<Button onClick={this.onCancel.bind(this)}>Cancel</Button>\n\t\t\t\t<Button onClick={this.onSave.bind(this)}>Save</Button>\n\t\t\t</div>\n\t\t)\n\t}\n\trender() {\n\t\tif (this.state.editing) {\n\t\t\treturn this.renderEditing();\n\t\t} else {\n\t\t\treturn this.renderStatic();\n\t\t}\n\t}\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\taddNewTransaction: (transaction: Transaction) => dispatch(addTransactionAction(transaction)),\n\t\tsaveEditedTransaction: (transaction: Transaction) => dispatch(saveEditedTransactionAction(transaction)),\n\t\tcancelNewTransaction: () => dispatch(cancelNewTransactionAction()),\n\t\tselectTransaction: (transactionID: string) => dispatch(selectTransactionAction(transactionID)),\n\t\tunselectTransaction: (transactionID: string) => dispatch(unselectTransactionAction(transactionID)),\n\t}\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\taccounts: state.accounts.accounts,\n\t\tcategories: state.budget.months[0].categories,\n\t\tpayees: state.payees.payees\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountsTransaction);\n","import './accounts-transactions.scss';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../../../reducers';\nimport AccountTransaction from './AccountTransaction';\n\nimport moment from 'moment';\nimport { getAllAccounts } from '../../../../utils/helpers';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\n\nconst AccountsTransactions: React.FC<Props> = (props) => {\n\tconst { activeAccount, transactions, newTransaction, selectedTransactions } = props;\n\treturn (\n\t\t<div className=\"accounts-transactions\">\n\t\t\t<div className=\"accounts-transactions-header\">\n\t\t\t\t<div>ACCOUNT</div>\n\t\t\t\t<div>DATE</div>\n\t\t\t\t<div>PAYEE</div>\n\t\t\t\t<div>CATEGORY</div>\n\t\t\t\t<div>INFLOW</div>\n\t\t\t\t<div>OUTFLOW</div>\n\t\t\t</div>\n\t\t\t{newTransaction ? <AccountTransaction new transaction={{ // TODO: make new transaction fields hold exisiting values\n\t\t\t\tid: \"123456\",\n\t\t\t\taccountName: activeAccount.accountName,\n\t\t\t\tpayeeName: \"No one\",\n\t\t\t\tcategoryName: \"To Be Budgeted\",\n\t\t\t\tdate: moment().format(\"DD/MM/YYYY\"),\n\t\t\t\tinflow: 0,\n\t\t\t\toutflow: 0,\n\t\t\t\tapproved: false,\n\t\t\t\tdeleted: false\n\t\t\t}} /> : null}\n\n\t\t\t{transactions.map(trans => {\n\t\t\t\tif (!trans.deleted && (trans.accountName === activeAccount.accountName || activeAccount.accountName === \"All Accounts\")) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<AccountTransaction\n\t\t\t\t\t\t\tselected={selectedTransactions.includes(trans.id)}\n\t\t\t\t\t\t\tkey={trans.id}\n\t\t\t\t\t\t\ttransaction={trans} />\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\tactiveAccount: state.accounts.activeAccount === -1 ? getAllAccounts(state.accounts.accounts) : state.accounts.accounts[state.accounts.activeAccount],\n\t\tnewTransaction: state.transactions.newTransaction,\n\t\ttransactions: state.transactions.transactions,\n\t\tselectedTransactions: state.transactions.selectedTransactions\n\t}\n}\n\nexport default connect(mapStateToProps)(AccountsTransactions)","import './accounts-content.scss';\nimport React from 'react'\n\nimport Button from '../../../components/Button';\nimport AccountsTransactions from './AccountsTransactions';\nimport { Dispatch } from 'redux';\nimport { triggerNewTransactionAction, deleteTransactionAction } from '../../../actions/transactions';\nimport { connect } from 'react-redux';\n\ninterface Props {}\n\ninterface Actions extends ReturnType<typeof mapDispatchToProps> {}\n\nconst AccountsContent: React.FC<Props & Actions> = (props) => {\n\treturn (\n\t\t<div className=\"accounts-content\">\n\t\t\t<div className=\"accounts-toolbar\">\n\t\t\t\t<Button\n\t\t\t\t\tsmall\n\t\t\t\t\tonClick={props.triggerNewTransaction}>\n\t\t\t\t\tAdd Transaction\n\t\t\t\t</Button>\n\n\t\t\t\t<Button\n\t\t\t\t\tsmall\n\t\t\t\t\tonClick={props.deleteTransaction}>Delete</Button>\n\t\t\t</div>\n\n\t\t\t<AccountsTransactions />\n\t\t</div>\n\t)\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n\treturn {\n\t\ttriggerNewTransaction: () => dispatch(triggerNewTransactionAction()),\n\t\tdeleteTransaction: () => dispatch(deleteTransactionAction())\n\t}\n}\n\nexport default connect(null, mapDispatchToProps)(AccountsContent);","import './accounts.scss';\nimport React from 'react';\nimport AccountsHeader from './AccountsHeader';\nimport AccountsContent from './AccountsContent';\n\nconst Accounts: React.FC<{}> = () => {\n\treturn (\n\t\t<div className=\"accounts\">\n\t\t\t<AccountsHeader />\n\t\t\t<AccountsContent />\n\t\t</div>\n\t)\n}\n\nexport default Accounts;","import React from 'react'\n\nimport './main.scss';\nimport { connect } from 'react-redux';\nimport Budget from '../Budget';\nimport { RootState } from '../../reducers';\nimport { AppView } from '../../types/app';\nimport Accounts from '../Accounts';\n\ninterface Props extends ReturnType<typeof mapStateToProps> {}\n\nconst Main: React.FC<Props> = (props) => {\n\treturn (\n\t\t<div className=\"main\">\n\t\t\t{(() => {\n\t\t\t\tswitch (props.view) {\n\t\t\t\t\tcase AppView.Budget:\n\t\t\t\t\t\treturn <Budget />\n\t\t\t\t\tcase AppView.Accounts:\n\t\t\t\t\t\treturn <Accounts />\n\t\t\t\t}\n\t\t\t})()}\n\t\t</div>\n\t)\n}\n\nfunction mapStateToProps(state: RootState) {\n\treturn {\n\t\tview: state.app.view\n\t}\n}\n\nexport default connect(mapStateToProps)(Main);","import React from 'react'\n\nimport './index.scss';\nimport Sidebar from '../Sidebar';\nimport Main from '../Main';\n\nconst Index: React.FC<{}> = () => {\n\treturn (\n\t\t<div id=\"index\">\n\t\t  <Sidebar />\n\t\t  <Main />\n\t\t</div>\n\t  )\n}\n\nexport default Index;\n","import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { configureStore } from './store';\nimport Index from './views/Index';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Provider store={configureStore()}>\n          <Index />\n        </Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './styles/global.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}